{"ast":null,"code":"import _objectSpread from\"C:/Users/merce/interactivos2/mapa_trenmx_qro/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useEffect,useRef,useState}from'react';import maplibregl from'maplibre-gl';import{Protocol}from'pmtiles';import'maplibre-gl/dist/maplibre-gl.css';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const baseStyle='https://api.maptiler.com/maps/01976666-b449-7252-86b5-3e7b3213a9e6/style.json?key=QAha5pFBxf4hGa8Jk5zv';const satelliteStyle='https://www.mapabase.atdt.gob.mx/style_satellite.json';const Map=_ref=>{let{layersVisibility}=_ref;const mapRef=useRef(null);const containerRef=useRef(null);const[isSatellite,setIsSatellite]=useState(false);const[isMeasuring,setIsMeasuring]=useState(false);const[currentPoints,setCurrentPoints]=useState([]);const[routesData,setRoutesData]=useState([]);const[selectedPueblo,setSelectedPueblo]=useState(null);const applyVisibility=()=>{const map=mapRef.current;if(!map)return;Object.entries(layersVisibility).forEach(_ref2=>{let[id,visible]=_ref2;if(map.getLayer(id)){map.setLayoutProperty(id,'visibility',visible?'visible':'none');}});};const toggleSatellite=()=>{const map=mapRef.current;if(!map)return;const newStyle=isSatellite?baseStyle:satelliteStyle;map.setStyle(newStyle,{diff:false});map.once('styledata',()=>{map.fire('load');applyVisibility();});setIsSatellite(!isSatellite);};const toggleMeasurement=()=>{const wasMeasuring=isMeasuring;setIsMeasuring(!wasMeasuring);if(wasMeasuring){const map=mapRef.current;if(!map)return;routesData.forEach(route=>{const{id}=route;if(map.getLayer(\"route-layer-\".concat(id)))map.removeLayer(\"route-layer-\".concat(id));if(map.getSource(\"route-source-\".concat(id)))map.removeSource(\"route-source-\".concat(id));if(map.getLayer(\"start-point-\".concat(id)))map.removeLayer(\"start-point-\".concat(id));if(map.getSource(\"start-point-\".concat(id)))map.removeSource(\"start-point-\".concat(id));if(map.getLayer(\"end-point-\".concat(id)))map.removeLayer(\"end-point-\".concat(id));if(map.getSource(\"end-point-\".concat(id)))map.removeSource(\"end-point-\".concat(id));});setRoutesData([]);setCurrentPoints([]);}};const addRouteToMap=async points=>{const map=mapRef.current;if(!map||points.length!==2)return;const[start,end]=points;console.log('Calculando ruta entre:',start,end);const url=\"https://router.project-osrm.org/route/v1/driving/\".concat(start.lng,\",\").concat(start.lat,\";\").concat(end.lng,\",\").concat(end.lat,\"?overview=full&geometries=geojson\");try{const response=await fetch(url);const data=await response.json();if(data.code!=='Ok'||data.routes.length===0)return;const route=data.routes[0];const routeId=Date.now();// Agregar línea de ruta\nmap.addSource(\"route-source-\".concat(routeId),{type:'geojson',data:{type:'Feature',geometry:route.geometry,properties:{}}});map.addLayer({id:\"route-layer-\".concat(routeId),type:'line',source:\"route-source-\".concat(routeId),paint:{'line-color':'#007cbf','line-width':5,'line-opacity':0.8}});// Puntos de inicio y fin\nconst pointStyle={type:'geojson',data:{type:'Point',coordinates:[start.lng,start.lat]}};map.addSource(\"start-point-\".concat(routeId),{type:'geojson',data:{type:'Feature',geometry:{type:'Point',coordinates:[start.lng,start.lat]},properties:{}}});map.addLayer({id:\"start-point-\".concat(routeId),type:'circle',source:\"start-point-\".concat(routeId),paint:{'circle-radius':6,'circle-color':'#007cbf','circle-stroke-width':2,'circle-stroke-color':'#ffffff'}});map.addSource(\"end-point-\".concat(routeId),{type:'geojson',data:{type:'Point',coordinates:[end.lng,end.lat]}});map.addLayer({id:\"end-point-\".concat(routeId),type:'circle',source:\"end-point-\".concat(routeId),paint:{'circle-radius':6,'circle-color':'#007cbf','circle-stroke-width':2,'circle-stroke-color':'#ffffff'}});setRoutesData(prev=>[...prev,_objectSpread(_objectSpread({id:routeId},route),{},{startPoint:start,endPoint:end})]);}catch(error){console.error(\"Error al calcular la ruta:\",error);}};useEffect(()=>{const protocol=new Protocol();maplibregl.addProtocol('pmtiles',protocol.tile);const map=new maplibregl.Map({container:containerRef.current,style:baseStyle,center:[-106.98189,24.09162],zoom:4.32,minZoom:4,maxZoom:18,attributionControl:false});mapRef.current=map;map.addControl(new maplibregl.AttributionControl({customAttribution:'Secretaría de Gobernación',compact:true}),'bottom-right');map.on('load',()=>{const popup=new maplibregl.Popup({closeButton:false,closeOnClick:false});map.addSource('trazo_actual',{type:'vector',url:'pmtiles://data/trazo_actual.pmtiles'});map.addLayer({id:'trazo_actual',type:'line',source:'trazo_actual','source-layer':'trazo_actual_tile',// <-- ajusta si tu source-layer real es otro\npaint:{'line-color':'#ff0000','line-width':3},layout:{visibility:layersVisibility['trazo_actual']?'visible':'none'}});map.addSource('comunidades1y2',{type:'vector',url:'pmtiles://data/comunidades1y2.pmtiles'});map.addLayer({id:'comunidades1y2',type:'circle',source:'comunidades1y2','source-layer':'comunidades1y2_tile',// <-- ajusta si tu source-layer real es otro\npaint:{'circle-radius':['interpolate',['linear'],['zoom'],5,2,8,3,11,5,14,8],'circle-color':'#ff8c00','circle-stroke-color':'#ffffff','circle-stroke-width':0.5},layout:{visibility:layersVisibility['comunidades1y2']?'visible':'none'}});map.on('mouseenter','comunidades1y2',e=>{var _e$features,_e$features$,_p$NOM_ENT,_p$NOM_MUN,_p$NOM_COM,_p$Pueblo,_p$PTC_,_p$HubDist;map.getCanvas().style.cursor='pointer';const p=(_e$features=e.features)===null||_e$features===void 0?void 0:(_e$features$=_e$features[0])===null||_e$features$===void 0?void 0:_e$features$.properties;if(!p)return;popup.setLngLat(e.lngLat).setHTML(\"\\n      <strong>Entidad:</strong> \".concat((_p$NOM_ENT=p.NOM_ENT)!==null&&_p$NOM_ENT!==void 0?_p$NOM_ENT:'Sin dato',\"<br/>\\n      <strong>Municipio:</strong> \").concat((_p$NOM_MUN=p.NOM_MUN)!==null&&_p$NOM_MUN!==void 0?_p$NOM_MUN:'Sin dato',\"<br/>\\n      <strong>Comunidad:</strong> \").concat((_p$NOM_COM=p.NOM_COM)!==null&&_p$NOM_COM!==void 0?_p$NOM_COM:'Sin dato',\"<br/>\\n      <strong>Pueblo:</strong> \").concat((_p$Pueblo=p.Pueblo)!==null&&_p$Pueblo!==void 0?_p$Pueblo:'Sin dato',\"<br/>\\n      <strong>Estimaci\\xF3n de la poblaci\\xF3n:</strong> \").concat((_p$PTC_=p.PTC_1)!==null&&_p$PTC_!==void 0?_p$PTC_:'Sin dato',\"<br/>\\n      <strong>Distancia al trazo actual:</strong> \").concat((_p$HubDist=p.HubDist)!==null&&_p$HubDist!==void 0?_p$HubDist:'Sin dato',\"\\n    \")).addTo(map);});map.on('mouseleave','comunidades1y2',()=>{map.getCanvas().style.cursor='';popup.remove();});/** 3) Núcleos directos — polígonos #85b66f, CON popup **/map.addSource('nucleos_directos',{type:'vector',url:'pmtiles://data/nucleos_directos.pmtiles'});map.addLayer({id:'nucleos_directos',type:'fill',source:'nucleos_directos','source-layer':'nucleos_directos_tile',// <-- ajusta si tu source-layer real es otro\npaint:{'fill-color':'#85b66f','fill-opacity':0.45,'fill-outline-color':'#2f4f2f'},layout:{visibility:layersVisibility['nucleos_directos']?'visible':'none'}});map.on('mouseenter','nucleos_directos',e=>{var _e$features2,_e$features2$,_p$nom_nucleo,_p$tipo_propi,_p$programa,_p$Fecha_Crea;map.getCanvas().style.cursor='pointer';const p=(_e$features2=e.features)===null||_e$features2===void 0?void 0:(_e$features2$=_e$features2[0])===null||_e$features2$===void 0?void 0:_e$features2$.properties;if(!p)return;popup.setLngLat(e.lngLat).setHTML(\"\\n      <strong>N\\xFAcleo:</strong> \".concat((_p$nom_nucleo=p.nom_nucleo)!==null&&_p$nom_nucleo!==void 0?_p$nom_nucleo:'Sin dato',\"<br/>\\n      <strong>Tipo de propiedad:</strong> \").concat((_p$tipo_propi=p.tipo_propi)!==null&&_p$tipo_propi!==void 0?_p$tipo_propi:'Sin dato',\"<br/>\\n      <strong>Programa:</strong> \").concat((_p$programa=p.programa)!==null&&_p$programa!==void 0?_p$programa:'Sin dato',\"<br/>\\n      <strong>Fecha de creaci\\xF3n:</strong> \").concat((_p$Fecha_Crea=p.Fecha_Crea)!==null&&_p$Fecha_Crea!==void 0?_p$Fecha_Crea:'Sin dato',\"\\n    \")).addTo(map);});map.on('mouseleave','nucleos_directos',()=>{map.getCanvas().style.cursor='';popup.remove();});/** 4) Núcleos a 5 km — polígonos #356c61, CON popup (mismos campos) **/map.addSource('nucleos5km',{type:'vector',url:'pmtiles://data/nucleos5km.pmtiles'});map.addLayer({id:'nucleos5km',type:'fill',source:'nucleos5km','source-layer':'nucleos5km_tile',// <-- ajusta si tu source-layer real es otro\npaint:{'fill-color':'#356c61','fill-opacity':0.30,'fill-outline-color':'#1c3a35'},layout:{visibility:layersVisibility['nucleos5km']?'visible':'none'}});map.on('mouseenter','nucleos5km',e=>{var _e$features3,_e$features3$,_p$nom_nucleo2,_p$tipo_propi2,_p$programa2,_p$Fecha_Crea2;map.getCanvas().style.cursor='pointer';const p=(_e$features3=e.features)===null||_e$features3===void 0?void 0:(_e$features3$=_e$features3[0])===null||_e$features3$===void 0?void 0:_e$features3$.properties;if(!p)return;popup.setLngLat(e.lngLat).setHTML(\"\\n      <strong>N\\xFAcleo:</strong> \".concat((_p$nom_nucleo2=p.nom_nucleo)!==null&&_p$nom_nucleo2!==void 0?_p$nom_nucleo2:'Sin dato',\"<br/>\\n      <strong>Tipo de propiedad:</strong> \").concat((_p$tipo_propi2=p.tipo_propi)!==null&&_p$tipo_propi2!==void 0?_p$tipo_propi2:'Sin dato',\"<br/>\\n      <strong>Programa:</strong> \").concat((_p$programa2=p.programa)!==null&&_p$programa2!==void 0?_p$programa2:'Sin dato',\"<br/>\\n      <strong>Fecha de creaci\\xF3n:</strong> \").concat((_p$Fecha_Crea2=p.Fecha_Crea)!==null&&_p$Fecha_Crea2!==void 0?_p$Fecha_Crea2:'Sin dato',\"\\n    \")).addTo(map);});map.on('mouseleave','nucleos5km',()=>{map.getCanvas().style.cursor='';popup.remove();});map.addSource('anp',{type:'vector',url:'pmtiles://data/anp.pmtiles'});map.addLayer({id:'anp',type:'fill',source:'anp','source-layer':'anp_tile',paint:{'fill-color':'#93DA97','fill-opacity':0.5},layout:{visibility:'none'}});map.on('mouseenter','anp',e=>{var _e$features4,_e$features4$;map.getCanvas().style.cursor='pointer';const props=(_e$features4=e.features)===null||_e$features4===void 0?void 0:(_e$features4$=_e$features4[0])===null||_e$features4$===void 0?void 0:_e$features4$.properties;if(!props)return;popup.setLngLat(e.lngLat).setHTML(\"\\n    <strong>Nombre ANP:</strong> \".concat(props.NOMBRE||'Sin dato',\"<br/>\\n    <strong>Categor\\xEDa de Manejo:</strong> \").concat(props.CAT_MANEJO||'Sin dato',\"<br/>\\n    <strong>Ubicaci\\xF3n:</strong> \").concat(props.ESTADOS||'Sin dato',\"<br/>\\n    <strong>Regi\\xF3n:</strong> \").concat(props.REGION||'Sin dato',\"\\n  \")).addTo(map);});map.on('mouseleave','anp',()=>{map.getCanvas().style.cursor='';popup.remove();});map.addSource('nucleos_agrarios',{type:'vector',url:'pmtiles://data/nucleos_agrarios.pmtiles'});map.addLayer({id:'nucleos_agrarios',type:'fill',source:'nucleos_agrarios','source-layer':'nucleos_agrarios_tile',paint:{'fill-color':'#4b352a','fill-opacity':0.5},layout:{visibility:'none'}});map.on('mouseenter','nucleos_agrarios',e=>{var _e$features5,_e$features5$;map.getCanvas().style.cursor='pointer';const props=(_e$features5=e.features)===null||_e$features5===void 0?void 0:(_e$features5$=_e$features5[0])===null||_e$features5$===void 0?void 0:_e$features5$.properties;if(!props)return;popup.setLngLat(e.lngLat).setHTML(\"\\n    <strong>Entidad:</strong> \".concat(props.nom_entida||'Sin dato',\"<br/>\\n    <strong>Municipio:</strong> \").concat(props.nom_munici||'Sin dato',\"<br/>\\n    <strong>Tipo de propiedad:</strong> \").concat(props.tipo_propi||'Sin dato',\"<br/>\\n    <strong>Programa:</strong> \").concat(props.programa||'Sin dato',\"\\n  \")).addTo(map);});map.on('mouseleave','nucleos_agrarios',()=>{map.getCanvas().style.cursor='';popup.remove();});map.addSource('LocalidadesSedeINPI',{type:'vector',url:'pmtiles://data/inpi.pmtiles'});const puebloColors=['#e6194b','#d62728','#ff4f00','#ff7f0e','#a65628','#8b4513','#6b4226','#1f78b4','#00429d','#2171b5','#08306b','#7b3294','#6a3d9a','#990099','#8e0152','#f0027f','#c11c78','#e31a1c','#f16913','#a50f15','#b2182b','#c51b7d','#dd3497','#1b7837','#4daf4a','#006d2c','#228b22','#20b2aa','#008080','#2e8b57','#ff1493','#ff69b4','#ff4500','#b03060','#cd5c5c','#ff8c00','#a0522d','#9932cc','#9400d3','#8b008b','#7cfc00','#32cd32','#4169e1','#0000cd','#00008b','#00bfff','#1e90ff','#4682b4','#5f9ea0','#191970','#ff0000','#c71585','#dc143c','#b22222','#ff6347'];const puebloMatch=[];for(let i=1;i<=72;i++){puebloMatch.push(i,puebloColors[i%puebloColors.length]);}const puebloExpression=['match',['get','ID_Pueblo'],...puebloMatch,'#666666'];map.addLayer({id:'LocalidadesSedeINPI',type:'circle',source:'LocalidadesSedeINPI','source-layer':'inpi_tile',paint:{'circle-radius':['interpolate',['linear'],['zoom'],5,2,8,3,11,6,14,10],'circle-color':puebloExpression,'circle-stroke-color':'#F2F2F2','circle-stroke-width':0.2},layout:{visibility:layersVisibility['LocalidadesSedeINPI']?'visible':'none'}});map.on('mouseenter','LocalidadesSedeINPI',e=>{var _e$features6,_e$features6$;const props=(_e$features6=e.features)===null||_e$features6===void 0?void 0:(_e$features6$=_e$features6[0])===null||_e$features6$===void 0?void 0:_e$features6$.properties;if(!props)return;popup.setLngLat(e.lngLat).setHTML(\"\\n          <strong>Entidad:</strong> \".concat(props.NOM_ENT,\"<br/>\\n          <strong>Municipio:</strong> \").concat(props.NOM_MUN,\"<br/>\\n          <strong>Comunidad:</strong> \").concat(props.NOM_COM,\"<br/>\\n          <strong>Pueblo:</strong> \").concat(props.Pueblo,\"<br/>\\n          <strong>Poblaci\\xF3n total:</strong> \").concat(props.POBTOT,\"<br/>\\n          <strong>Pobl en hogares ind\\xEDgenas:</strong> \").concat(props.PHOG_IND,\"<br/>\\n          <strong>Afrodescendientes:</strong> \").concat(props.POB_AFRO,\"<br/>\\n          <strong>Tipo:</strong> \").concat(props.TIPOLOGIAA,\"<br/>\\n          <strong>Marginaci\\xF3n:</strong> \").concat(props.GM_2020,\"<br/>\\n          <strong>Tipo asentamiento:</strong> \").concat(props.TIPOLOGIAC,\"<br/>\\n          <strong>Regi\\xF3n:</strong> \").concat(props.REGION,\"<br/>\\n          <strong>Oficina de Representaci\\xF3n:</strong> \").concat(props.UA,\"\\n        \")).addTo(map);});map.on('mouseleave','LocalidadesSedeINPI',()=>{popup.remove();});map.addSource('PresidenciasMunicipales',{type:'vector',url:'pmtiles://data/PresidenciasMunicipales.pmtiles'});map.addLayer({id:'PresidenciasMunicipales',type:'circle',source:'PresidenciasMunicipales','source-layer':'PresidenciasMunicipales_tile',paint:{'circle-radius':1.7,'circle-color':'#000000','circle-stroke-color':'#ffffff','circle-stroke-width':0.5},layout:{visibility:'none'}});map.on('mouseenter','PresidenciasMunicipales',e=>{var _e$features7,_e$features7$;const props=(_e$features7=e.features)===null||_e$features7===void 0?void 0:(_e$features7$=_e$features7[0])===null||_e$features7$===void 0?void 0:_e$features7$.properties;if(!props)return;popup.setLngLat(e.lngLat).setHTML(\"\\n          <strong>Entidad:</strong> \".concat(props.entidad,\"<br/>\\n          <strong>Municipio:</strong> \").concat(props.municipio,\"<br/>\\n          <strong>Direcci\\xF3n:</strong> \").concat(props.direccion,\"\\n        \")).addTo(map);});map.on('mouseleave','PresidenciasMunicipales',()=>{popup.remove();});map.addSource('PuntosWiFiCFE',{type:'vector',url:'pmtiles://data/PuntosWiFiCFE.pmtiles'});const tecnologias=[{id:'PuntosWiFiCFE_4G',color:'#9f2241',filtro:'4G'},{id:'PuntosWiFiCFE_FIBRA',color:'#cda578',filtro:'FIBRA O COBRE'},{id:'PuntosWiFiCFE_SATELITAL',color:'#235b4e',filtro:'SATELITAL'}];tecnologias.forEach(_ref3=>{let{id,color,filtro}=_ref3;map.addLayer({id,type:'circle',source:'PuntosWiFiCFE','source-layer':'PuntosWiFiCFE_tile',filter:['==',['get','TECNOLOGIA'],filtro],paint:{'circle-radius':1.5,'circle-color':color,'circle-stroke-color':'#ffffff','circle-stroke-width':0},layout:{visibility:'none'}// Por defecto oculto\n});map.on('mouseenter',id,e=>{var _e$features8,_e$features8$;const props=(_e$features8=e.features)===null||_e$features8===void 0?void 0:(_e$features8$=_e$features8[0])===null||_e$features8$===void 0?void 0:_e$features8$.properties;if(!props)return;popup.setLngLat(e.lngLat).setHTML(\"\\n      <strong>Nombre:</strong> \".concat(props['INMUEBLE NOMBRE'],\"<br/>\\n      <strong>Tipo:</strong> \").concat(props['TIPO INMUEBLE'],\"<br/>\\n      <strong>AP:</strong> \").concat(props['NOMBRE AP'],\"<br/>\\n      <strong>Tecnolog\\xEDa:</strong> \").concat(props['TECNOLOGIA'],\"\\n    \")).addTo(map);});map.on('mouseleave',id,()=>{popup.remove();});});});return()=>{map.remove();maplibregl.removeProtocol('pmtiles');};},[]);useEffect(()=>{const map=mapRef.current;if(!map)return;Object.entries(layersVisibility).forEach(_ref4=>{let[id,visible]=_ref4;const vis=visible?'visible':'none';try{if(map.getLayer(id)){map.setLayoutProperty(id,'visibility',vis);}}catch(_unused){}});},[layersVisibility]);useEffect(()=>{const map=mapRef.current;if(!map)return;const handleClick=e=>{if(!isMeasuring)return;if(currentPoints.length>=2)return;const newPoint=e.lngLat;console.log('Nuevo punto',newPoint);setCurrentPoints(prev=>[...prev,newPoint]);};map.on('click',handleClick);return()=>{map.off('click',handleClick);};},[isMeasuring,currentPoints]);useEffect(()=>{if(currentPoints.length===2){addRouteToMap(currentPoints);}},[currentPoints]);return/*#__PURE__*/_jsxs(\"div\",{style:{position:'relative',width:'100%',height:'100vh'},children:[/*#__PURE__*/_jsx(\"div\",{ref:containerRef,style:{width:'100%',height:'100%'}}),/*#__PURE__*/_jsxs(\"div\",{style:{position:'absolute',top:'20px',right:'20px',zIndex:1000,display:'flex',flexDirection:'column',gap:'10px',alignItems:'flex-end'},children:[/*#__PURE__*/_jsxs(\"div\",{className:\"custom-tooltip\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:toggleSatellite,style:{padding:'8px 12px',backgroundColor:'#fff',border:'1px solid #ccc',borderRadius:'4px',cursor:'pointer',fontSize:'18px',boxShadow:'0 2px 4px rgba(0,0,0,0.2)'},\"aria-label\":\"Cambiar vista del mapa\",children:isSatellite?'🗺️':'🛰️'}),/*#__PURE__*/_jsx(\"span\",{className:\"tooltip-text\",children:\"Cambiar a vista de sat\\xE9lite\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"custom-tooltip\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:toggleMeasurement,style:{padding:'8px 12px',backgroundColor:isMeasuring?'#e6f7ff':'#fff',border:'1px solid #ccc',borderRadius:'4px',cursor:'pointer',fontSize:'18px',boxShadow:'0 2px 4px rgba(0,0,0,0.2)'},\"aria-label\":\"Medir distancia\",children:\"\\uD83D\\uDCCF\"}),/*#__PURE__*/_jsx(\"span\",{className:\"tooltip-text\",children:\"Seleccionar nodos para ruta\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"custom-tooltip\",children:/*#__PURE__*/_jsxs(\"select\",{onChange:e=>{const value=e.target.value;setSelectedPueblo(value==='ALL'?null:value);const map=mapRef.current;if(!map)return;if(value==='ALL'){map.setFilter('LocalidadesSedeINPI',null);}else{map.setFilter('LocalidadesSedeINPI',['==',['get','Pueblo'],value]);}},children:[/*#__PURE__*/_jsx(\"option\",{value:\"ALL\",children:\"Seleccionar Pueblo\"}),/*#__PURE__*/_jsx(\"option\",{children:\"Mayo\"}),/*#__PURE__*/_jsx(\"option\",{children:\"Afromexicano\"}),/*#__PURE__*/_jsx(\"option\",{children:\"Akateko\"}),/*#__PURE__*/_jsx(\"option\",{children:\"Amuzgo\"}),/*#__PURE__*/_jsx(\"option\",{children:\"Ayapaneco\"}),/*#__PURE__*/_jsx(\"option\",{children:\"Caxcan\"}),/*#__PURE__*/_jsx(\"option\",{children:\"Chatino\"}),/*#__PURE__*/_jsx(\"option\",{children:\"Chichimeco\"}),/*#__PURE__*/_jsx(\"option\",{children:\"Chinanteco\"}),/*#__PURE__*/_jsx(\"option\",{children:\"Chocholteco\"}),/*#__PURE__*/_jsx(\"option\",{children:\"Ch'ol\"}),/*#__PURE__*/_jsx(\"option\",{children:\"Chontal de Oaxaca\"}),/*#__PURE__*/_jsx(\"option\",{children:\"Chuj\"}),/*#__PURE__*/_jsx(\"option\",{children:\"Coca\"}),/*#__PURE__*/_jsx(\"option\",{children:\"Cochim\\xED\"}),/*#__PURE__*/_jsx(\"option\",{children:\"Cora\"}),/*#__PURE__*/_jsx(\"option\",{children:\"Cucap\\xE1\"}),/*#__PURE__*/_jsx(\"option\",{children:\"Cuicateco\"}),/*#__PURE__*/_jsx(\"option\",{children:\"Guarij\\xEDo\"}),/*#__PURE__*/_jsx(\"option\",{children:\"Huasteco\"}),/*#__PURE__*/_jsx(\"option\",{children:\"Ikoots (Huave)\"}),/*#__PURE__*/_jsx(\"option\",{children:\"Ixcateco\"}),/*#__PURE__*/_jsx(\"option\",{children:\"Ixil\"}),/*#__PURE__*/_jsx(\"option\",{children:\"Jakalteko\"}),/*#__PURE__*/_jsx(\"option\",{children:\"Kaqchikel\"}),/*#__PURE__*/_jsx(\"option\",{children:\"K'iche'\"}),/*#__PURE__*/_jsx(\"option\",{children:\"Kickapoo\"}),/*#__PURE__*/_jsx(\"option\",{children:\"Kiliwa\"}),/*#__PURE__*/_jsx(\"option\",{children:\"Kumiai\"}),/*#__PURE__*/_jsx(\"option\",{children:\"Lacand\\xF3n\"}),/*#__PURE__*/_jsx(\"option\",{children:\"Mam\"}),/*#__PURE__*/_jsx(\"option\",{children:\"Matlatzinca\"}),/*#__PURE__*/_jsx(\"option\",{children:\"Maya\"}),/*#__PURE__*/_jsx(\"option\",{children:\"Mazahua\"}),/*#__PURE__*/_jsx(\"option\",{children:\"Mazateco\"}),/*#__PURE__*/_jsx(\"option\",{children:\"Me\\u2019phaa (Tlapaneco)\"}),/*#__PURE__*/_jsx(\"option\",{children:\"Mexikan\"}),/*#__PURE__*/_jsx(\"option\",{children:\"Mixe\"}),/*#__PURE__*/_jsx(\"option\",{children:\"Mixteco\"}),/*#__PURE__*/_jsx(\"option\",{children:\"N\\u2019dee\"}),/*#__PURE__*/_jsx(\"option\",{children:\"Nahua\"}),/*#__PURE__*/_jsx(\"option\",{children:\"Otom\\xED\"}),/*#__PURE__*/_jsx(\"option\",{children:\"Pa Ipai/Ku'ahl\"}),/*#__PURE__*/_jsx(\"option\",{children:\"Pame\"}),/*#__PURE__*/_jsx(\"option\",{children:\"Pima\"}),/*#__PURE__*/_jsx(\"option\",{children:\"Pirinda\"}),/*#__PURE__*/_jsx(\"option\",{children:\"Pluricultural\"}),/*#__PURE__*/_jsx(\"option\",{children:\"Popoloca\"}),/*#__PURE__*/_jsx(\"option\",{children:\"Popoluca de la Sierra\"}),/*#__PURE__*/_jsx(\"option\",{children:\"P'urh\\xE9pecha (Tarasco)\"}),/*#__PURE__*/_jsx(\"option\",{children:\"Q'anjob'al\"}),/*#__PURE__*/_jsx(\"option\",{children:\"Qato'k\"}),/*#__PURE__*/_jsx(\"option\",{children:\"Q'eqchi'\"}),/*#__PURE__*/_jsx(\"option\",{children:\"Rar\\xE1muli (Tarahumara)\"}),/*#__PURE__*/_jsx(\"option\",{children:\"Seri\"}),/*#__PURE__*/_jsx(\"option\",{children:\"Tacuate\"}),/*#__PURE__*/_jsx(\"option\",{children:\"Tepehua\"}),/*#__PURE__*/_jsx(\"option\",{children:\"Tepehuano del norte\"}),/*#__PURE__*/_jsx(\"option\",{children:\"Tepehuano del sur\"}),/*#__PURE__*/_jsx(\"option\",{children:\"Texistepeque\\xF1o\"}),/*#__PURE__*/_jsx(\"option\",{children:\"Tlahuica\"}),/*#__PURE__*/_jsx(\"option\",{children:\"Tohono O\\u2019odham (P\\xE1pago)\"}),/*#__PURE__*/_jsx(\"option\",{children:\"Tojolabal\"}),/*#__PURE__*/_jsx(\"option\",{children:\"Totonaco\"}),/*#__PURE__*/_jsx(\"option\",{children:\"Triqui\"}),/*#__PURE__*/_jsx(\"option\",{children:\"Tseltal\"}),/*#__PURE__*/_jsx(\"option\",{children:\"Tsotsil\"}),/*#__PURE__*/_jsx(\"option\",{children:\"Wix\\xE1rika (Huichol)\"}),/*#__PURE__*/_jsx(\"option\",{children:\"Yaqui\"}),/*#__PURE__*/_jsx(\"option\",{children:\"Yokot'an (Chontal de Tabasco)\"}),/*#__PURE__*/_jsx(\"option\",{children:\"Zapoteco\"}),/*#__PURE__*/_jsx(\"option\",{children:\"Zoque\"})]})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"custom-popup-container\",children:routesData.map(route=>{if(!mapRef.current)return null;const screenPoint=mapRef.current.project(route.endPoint);return/*#__PURE__*/_jsxs(\"div\",{className:\"custom-route-popup\",style:{position:'absolute',left:\"\".concat(screenPoint.x,\"px\"),top:\"\".concat(screenPoint.y,\"px\"),backgroundColor:'white',padding:'8px',borderRadius:'6px',fontSize:'12px',boxShadow:'0 2px 6px rgba(0,0,0,0.3)',transform:'translate(-50%, -120%)'},children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Distancia:\"}),\" \",(route.distance/1000).toFixed(2),\" km\",/*#__PURE__*/_jsx(\"br\",{}),(()=>{const totalMinutes=Math.round(route.duration/60);const hours=Math.floor(totalMinutes/60);const minutes=totalMinutes%60;return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Tiempo:\"}),\" \",hours>0?\"\".concat(hours,\" h \").concat(minutes,\" min\"):\"\".concat(minutes,\" min\")]});})()]},route.id);})})]});};export default Map;","map":{"version":3,"names":["React","useEffect","useRef","useState","maplibregl","Protocol","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","baseStyle","satelliteStyle","Map","_ref","layersVisibility","mapRef","containerRef","isSatellite","setIsSatellite","isMeasuring","setIsMeasuring","currentPoints","setCurrentPoints","routesData","setRoutesData","selectedPueblo","setSelectedPueblo","applyVisibility","map","current","Object","entries","forEach","_ref2","id","visible","getLayer","setLayoutProperty","toggleSatellite","newStyle","setStyle","diff","once","fire","toggleMeasurement","wasMeasuring","route","concat","removeLayer","getSource","removeSource","addRouteToMap","points","length","start","end","console","log","url","lng","lat","response","fetch","data","json","code","routes","routeId","Date","now","addSource","type","geometry","properties","addLayer","source","paint","pointStyle","coordinates","prev","_objectSpread","startPoint","endPoint","error","protocol","addProtocol","tile","container","style","center","zoom","minZoom","maxZoom","attributionControl","addControl","AttributionControl","customAttribution","compact","on","popup","Popup","closeButton","closeOnClick","layout","visibility","e","_e$features","_e$features$","_p$NOM_ENT","_p$NOM_MUN","_p$NOM_COM","_p$Pueblo","_p$PTC_","_p$HubDist","getCanvas","cursor","p","features","setLngLat","lngLat","setHTML","NOM_ENT","NOM_MUN","NOM_COM","Pueblo","PTC_1","HubDist","addTo","remove","_e$features2","_e$features2$","_p$nom_nucleo","_p$tipo_propi","_p$programa","_p$Fecha_Crea","nom_nucleo","tipo_propi","programa","Fecha_Crea","_e$features3","_e$features3$","_p$nom_nucleo2","_p$tipo_propi2","_p$programa2","_p$Fecha_Crea2","_e$features4","_e$features4$","props","NOMBRE","CAT_MANEJO","ESTADOS","REGION","_e$features5","_e$features5$","nom_entida","nom_munici","puebloColors","puebloMatch","i","push","puebloExpression","_e$features6","_e$features6$","POBTOT","PHOG_IND","POB_AFRO","TIPOLOGIAA","GM_2020","TIPOLOGIAC","UA","_e$features7","_e$features7$","entidad","municipio","direccion","tecnologias","color","filtro","_ref3","filter","_e$features8","_e$features8$","removeProtocol","_ref4","vis","_unused","handleClick","newPoint","off","position","width","height","children","ref","top","right","zIndex","display","flexDirection","gap","alignItems","className","onClick","padding","backgroundColor","border","borderRadius","fontSize","boxShadow","onChange","value","target","setFilter","screenPoint","project","left","x","y","transform","distance","toFixed","totalMinutes","Math","round","duration","hours","floor","minutes"],"sources":["C:/Users/merce/interactivos2/mapa_trenmx_qro/src/components/Map/Map.tsx"],"sourcesContent":["import React, { useEffect, useRef, useState } from 'react';\r\nimport maplibregl, { LngLat, GeoJSONSource } from 'maplibre-gl';\r\nimport { Protocol } from 'pmtiles';\r\nimport 'maplibre-gl/dist/maplibre-gl.css';\r\n\r\ntype MapProps = {\r\n  layersVisibility: { [layerId: string]: boolean };\r\n  isocronaMin: number;\r\n};\r\n\r\nconst baseStyle = 'https://api.maptiler.com/maps/01976666-b449-7252-86b5-3e7b3213a9e6/style.json?key=QAha5pFBxf4hGa8Jk5zv';\r\nconst satelliteStyle = 'https://www.mapabase.atdt.gob.mx/style_satellite.json';\r\n\r\nconst Map: React.FC<MapProps> = ({ layersVisibility }) => {\r\n  const mapRef = useRef<maplibregl.Map | null>(null);\r\n  const containerRef = useRef<HTMLDivElement | null>(null);\r\n  const [isSatellite, setIsSatellite] = useState(false);\r\n  const [isMeasuring, setIsMeasuring] = useState(false);\r\n  const [currentPoints, setCurrentPoints] = useState<maplibregl.LngLat[]>([]);\r\n  const [routesData, setRoutesData] = useState<any[]>([]);\r\nconst [selectedPueblo, setSelectedPueblo] = useState<string | null>(null);\r\n\r\n  const applyVisibility = () => {\r\n    const map = mapRef.current;\r\n    if (!map) return;\r\n    Object.entries(layersVisibility).forEach(([id, visible]) => {\r\n      if (map.getLayer(id)) {\r\n        map.setLayoutProperty(id, 'visibility', visible ? 'visible' : 'none');\r\n      }\r\n    });\r\n  };\r\n\r\n  const toggleSatellite = () => {\r\n    const map = mapRef.current;\r\n    if (!map) return;\r\n    const newStyle = isSatellite ? baseStyle : satelliteStyle;\r\n    map.setStyle(newStyle, { diff: false });\r\n    map.once('styledata', () => {\r\n      map.fire('load');\r\n      applyVisibility();\r\n    });\r\n    setIsSatellite(!isSatellite);\r\n  };\r\n\r\nconst toggleMeasurement = () => {\r\n  const wasMeasuring = isMeasuring;\r\n  setIsMeasuring(!wasMeasuring);\r\n  if (wasMeasuring) {\r\n    const map = mapRef.current;\r\n    if (!map) return;\r\n\r\n    routesData.forEach((route) => {\r\n      const { id } = route;\r\n      if (map.getLayer(`route-layer-${id}`)) map.removeLayer(`route-layer-${id}`);\r\n      if (map.getSource(`route-source-${id}`)) map.removeSource(`route-source-${id}`);\r\n      if (map.getLayer(`start-point-${id}`)) map.removeLayer(`start-point-${id}`);\r\n      if (map.getSource(`start-point-${id}`)) map.removeSource(`start-point-${id}`);\r\n      if (map.getLayer(`end-point-${id}`)) map.removeLayer(`end-point-${id}`);\r\n      if (map.getSource(`end-point-${id}`)) map.removeSource(`end-point-${id}`);\r\n    });\r\n\r\n    setRoutesData([]);\r\n    setCurrentPoints([]);\r\n  }\r\n};\r\n\r\nconst addRouteToMap = async (points: maplibregl.LngLat[]) => {\r\n  const map = mapRef.current;\r\n  if (!map || points.length !== 2) return;\r\n\r\n  const [start, end] = points;\r\n  console.log('Calculando ruta entre:', start, end);\r\n  const url = `https://router.project-osrm.org/route/v1/driving/${start.lng},${start.lat};${end.lng},${end.lat}?overview=full&geometries=geojson`;\r\n\r\n  try {\r\n    const response = await fetch(url);\r\n    const data = await response.json();\r\n\r\n    if (data.code !== 'Ok' || data.routes.length === 0) return;\r\n    const route = data.routes[0];\r\n\r\n    const routeId = Date.now(); \r\n\r\n    // Agregar línea de ruta\r\n    map.addSource(`route-source-${routeId}`, {\r\n      type: 'geojson',\r\n      data: {\r\n        type: 'Feature',\r\n        geometry: route.geometry,\r\n        properties: {}\r\n      }\r\n    });\r\n    map.addLayer({\r\n      id: `route-layer-${routeId}`,\r\n      type: 'line',\r\n      source: `route-source-${routeId}`,\r\n      paint: {\r\n        'line-color': '#007cbf',\r\n        'line-width': 5,\r\n        'line-opacity': 0.8\r\n      }\r\n    });\r\n\r\n    // Puntos de inicio y fin\r\n    const pointStyle = {\r\n      type: 'geojson',\r\n      data: {\r\n        type: 'Point',\r\n        coordinates: [start.lng, start.lat]\r\n      }\r\n    };\r\n    map.addSource(`start-point-${routeId}`, {\r\n  type: 'geojson',\r\n  data: {\r\n    type: 'Feature',\r\n    geometry: {\r\n      type: 'Point',\r\n      coordinates: [start.lng, start.lat]\r\n    },\r\n    properties: {}\r\n  }\r\n});\r\nmap.addLayer({\r\n  id: `start-point-${routeId}`,\r\n  type: 'circle',\r\n  source: `start-point-${routeId}`,\r\n  paint: {\r\n    'circle-radius': 6,\r\n    'circle-color': '#007cbf',\r\n    'circle-stroke-width': 2,\r\n    'circle-stroke-color': '#ffffff'\r\n  }\r\n});\r\n\r\n    map.addSource(`end-point-${routeId}`, {\r\n      type: 'geojson',\r\n      data: {\r\n        type: 'Point',\r\n        coordinates: [end.lng, end.lat]\r\n      }\r\n    });\r\n    map.addLayer({\r\n      id: `end-point-${routeId}`,\r\n      type: 'circle',\r\n      source: `end-point-${routeId}`,\r\n      paint: {\r\n        'circle-radius': 6,\r\n        'circle-color': '#007cbf',\r\n        'circle-stroke-width': 2,\r\n        'circle-stroke-color': '#ffffff'\r\n      }\r\n    });\r\n\r\n    setRoutesData(prev => [...prev, {\r\n  id: routeId,\r\n  ...route,\r\n  startPoint: start,\r\n  endPoint: end\r\n}]);\r\n\r\n  } catch (error) {\r\n    console.error(\"Error al calcular la ruta:\", error);\r\n  }\r\n};\r\n\r\n  useEffect(() => {\r\n    const protocol = new Protocol();\r\n    maplibregl.addProtocol('pmtiles', protocol.tile);\r\n\r\n    const map = new maplibregl.Map({\r\n      container: containerRef.current!,\r\n      style: baseStyle,\r\n      center: [-106.98189, 24.09162],\r\n      zoom: 4.32,\r\n      minZoom: 4,\r\n      maxZoom: 18,\r\n      attributionControl: false\r\n    }); \r\n\r\n    mapRef.current = map;\r\n\r\n    map.addControl(new maplibregl.AttributionControl({\r\n      customAttribution: 'Secretaría de Gobernación',\r\n      compact: true\r\n    }), 'bottom-right');\r\n\r\n    map.on('load', () => {\r\n      const popup = new maplibregl.Popup({ closeButton: false, closeOnClick: false });\r\n      map.addSource('trazo_actual', {\r\n  type: 'vector',\r\n  url: 'pmtiles://data/trazo_actual.pmtiles'\r\n});\r\nmap.addLayer({\r\n  id: 'trazo_actual',\r\n  type: 'line',\r\n  source: 'trazo_actual',\r\n  'source-layer': 'trazo_actual_tile', // <-- ajusta si tu source-layer real es otro\r\n  paint: {\r\n    'line-color': '#ff0000',\r\n    'line-width': 3\r\n  },\r\n  layout: { visibility: layersVisibility['trazo_actual'] ? 'visible' : 'none' }\r\n});\r\n\r\n\r\nmap.addSource('comunidades1y2', {\r\n  type: 'vector',\r\n  url: 'pmtiles://data/comunidades1y2.pmtiles'\r\n});\r\nmap.addLayer({\r\n  id: 'comunidades1y2',\r\n  type: 'circle',\r\n  source: 'comunidades1y2',\r\n  'source-layer': 'comunidades1y2_tile', // <-- ajusta si tu source-layer real es otro\r\n  paint: {\r\n    'circle-radius': [\r\n      'interpolate', ['linear'], ['zoom'],\r\n      5, 2,\r\n      8, 3,\r\n      11, 5,\r\n      14, 8\r\n    ],\r\n    'circle-color': '#ff8c00',\r\n    'circle-stroke-color': '#ffffff',\r\n    'circle-stroke-width': 0.5\r\n  },\r\n  layout: { visibility: layersVisibility['comunidades1y2'] ? 'visible' : 'none' }\r\n});\r\nmap.on('mouseenter', 'comunidades1y2', (e) => {\r\n  map.getCanvas().style.cursor = 'pointer';\r\n  const p = e.features?.[0]?.properties; if (!p) return;\r\n  popup\r\n    .setLngLat(e.lngLat)\r\n    .setHTML(`\r\n      <strong>Entidad:</strong> ${p.NOM_ENT ?? 'Sin dato'}<br/>\r\n      <strong>Municipio:</strong> ${p.NOM_MUN ?? 'Sin dato'}<br/>\r\n      <strong>Comunidad:</strong> ${p.NOM_COM ?? 'Sin dato'}<br/>\r\n      <strong>Pueblo:</strong> ${p.Pueblo ?? 'Sin dato'}<br/>\r\n      <strong>Estimación de la población:</strong> ${p.PTC_1 ?? 'Sin dato'}<br/>\r\n      <strong>Distancia al trazo actual:</strong> ${p.HubDist ?? 'Sin dato'}\r\n    `)\r\n    .addTo(map);\r\n});\r\nmap.on('mouseleave', 'comunidades1y2', () => {\r\n  map.getCanvas().style.cursor = '';\r\n  popup.remove();\r\n});\r\n\r\n/** 3) Núcleos directos — polígonos #85b66f, CON popup **/\r\nmap.addSource('nucleos_directos', {\r\n  type: 'vector',\r\n  url: 'pmtiles://data/nucleos_directos.pmtiles'\r\n});\r\nmap.addLayer({\r\n  id: 'nucleos_directos',\r\n  type: 'fill',\r\n  source: 'nucleos_directos',\r\n  'source-layer': 'nucleos_directos_tile', // <-- ajusta si tu source-layer real es otro\r\n  paint: {\r\n    'fill-color': '#85b66f',\r\n    'fill-opacity': 0.45,\r\n    'fill-outline-color': '#2f4f2f'\r\n  },\r\n  layout: { visibility: layersVisibility['nucleos_directos'] ? 'visible' : 'none' }\r\n});\r\nmap.on('mouseenter', 'nucleos_directos', (e) => {\r\n  map.getCanvas().style.cursor = 'pointer';\r\n  const p = e.features?.[0]?.properties; if (!p) return;\r\n  popup\r\n    .setLngLat(e.lngLat)\r\n    .setHTML(`\r\n      <strong>Núcleo:</strong> ${p.nom_nucleo ?? 'Sin dato'}<br/>\r\n      <strong>Tipo de propiedad:</strong> ${p.tipo_propi ?? 'Sin dato'}<br/>\r\n      <strong>Programa:</strong> ${p.programa ?? 'Sin dato'}<br/>\r\n      <strong>Fecha de creación:</strong> ${p.Fecha_Crea ?? 'Sin dato'}\r\n    `)\r\n    .addTo(map);\r\n});\r\nmap.on('mouseleave', 'nucleos_directos', () => {\r\n  map.getCanvas().style.cursor = '';\r\n  popup.remove();\r\n});\r\n\r\n/** 4) Núcleos a 5 km — polígonos #356c61, CON popup (mismos campos) **/\r\nmap.addSource('nucleos5km', {\r\n  type: 'vector',\r\n  url: 'pmtiles://data/nucleos5km.pmtiles'\r\n});\r\nmap.addLayer({\r\n  id: 'nucleos5km',\r\n  type: 'fill',\r\n  source: 'nucleos5km',\r\n  'source-layer': 'nucleos5km_tile', // <-- ajusta si tu source-layer real es otro\r\n  paint: {\r\n    'fill-color': '#356c61',\r\n    'fill-opacity': 0.30,\r\n    'fill-outline-color': '#1c3a35'\r\n  },\r\n  layout: { visibility: layersVisibility['nucleos5km'] ? 'visible' : 'none' }\r\n});\r\nmap.on('mouseenter', 'nucleos5km', (e) => {\r\n  map.getCanvas().style.cursor = 'pointer';\r\n  const p = e.features?.[0]?.properties; if (!p) return;\r\n  popup\r\n    .setLngLat(e.lngLat)\r\n    .setHTML(`\r\n      <strong>Núcleo:</strong> ${p.nom_nucleo ?? 'Sin dato'}<br/>\r\n      <strong>Tipo de propiedad:</strong> ${p.tipo_propi ?? 'Sin dato'}<br/>\r\n      <strong>Programa:</strong> ${p.programa ?? 'Sin dato'}<br/>\r\n      <strong>Fecha de creación:</strong> ${p.Fecha_Crea ?? 'Sin dato'}\r\n    `)\r\n    .addTo(map);\r\n});\r\nmap.on('mouseleave', 'nucleos5km', () => {\r\n  map.getCanvas().style.cursor = '';\r\n  popup.remove();\r\n});\r\n\r\n      map.addSource('anp', {\r\n  type: 'vector',\r\n  url: 'pmtiles://data/anp.pmtiles'\r\n});\r\n\r\nmap.addLayer({\r\n  id: 'anp',\r\n  type: 'fill',\r\n  source: 'anp',\r\n  'source-layer': 'anp_tile', \r\n  paint: {\r\n    'fill-color': '#93DA97',\r\n    'fill-opacity': 0.5\r\n  },\r\n  layout: { visibility: 'none' }\r\n});\r\n\r\nmap.on('mouseenter', 'anp', (e) => {\r\n  map.getCanvas().style.cursor = 'pointer';\r\n  const props = e.features?.[0]?.properties;\r\n  if (!props) return;\r\n  popup.setLngLat(e.lngLat).setHTML(`\r\n    <strong>Nombre ANP:</strong> ${props.NOMBRE || 'Sin dato'}<br/>\r\n    <strong>Categoría de Manejo:</strong> ${props.CAT_MANEJO || 'Sin dato'}<br/>\r\n    <strong>Ubicación:</strong> ${props.ESTADOS || 'Sin dato'}<br/>\r\n    <strong>Región:</strong> ${props.REGION || 'Sin dato'}\r\n  `).addTo(map);\r\n});\r\n\r\nmap.on('mouseleave', 'anp', () => {\r\n  map.getCanvas().style.cursor = '';\r\n  popup.remove();\r\n});\r\n\r\nmap.addSource('nucleos_agrarios', {\r\n  type: 'vector',\r\n  url: 'pmtiles://data/nucleos_agrarios.pmtiles'\r\n});\r\n\r\nmap.addLayer({\r\n  id: 'nucleos_agrarios',\r\n  type: 'fill',\r\n  source: 'nucleos_agrarios',\r\n  'source-layer': 'nucleos_agrarios_tile',\r\n  paint: {\r\n    'fill-color': '#4b352a',\r\n    'fill-opacity': 0.5,\r\n       \r\n  },\r\n  layout: { visibility: 'none' }\r\n});\r\n\r\nmap.on('mouseenter', 'nucleos_agrarios', (e) => {\r\n  map.getCanvas().style.cursor = 'pointer';\r\n  const props = e.features?.[0]?.properties;\r\n  if (!props) return;\r\n  popup.setLngLat(e.lngLat).setHTML(`\r\n    <strong>Entidad:</strong> ${props.nom_entida || 'Sin dato'}<br/>\r\n    <strong>Municipio:</strong> ${props.nom_munici || 'Sin dato'}<br/>\r\n    <strong>Tipo de propiedad:</strong> ${props.tipo_propi || 'Sin dato'}<br/>\r\n    <strong>Programa:</strong> ${props.programa || 'Sin dato'}\r\n  `).addTo(map);\r\n});\r\n\r\nmap.on('mouseleave', 'nucleos_agrarios', () => {\r\n  map.getCanvas().style.cursor = '';\r\n  popup.remove();\r\n});\r\n\r\nmap.addSource('LocalidadesSedeINPI', { type: 'vector', url: 'pmtiles://data/inpi.pmtiles' });\r\n\r\nconst puebloColors = [\r\n  '#e6194b', '#d62728', '#ff4f00', '#ff7f0e', '#a65628',\r\n  '#8b4513', '#6b4226', '#1f78b4', '#00429d', '#2171b5',\r\n  '#08306b', '#7b3294', '#6a3d9a', '#990099', '#8e0152',\r\n  '#f0027f', '#c11c78', '#e31a1c', '#f16913', '#a50f15',\r\n  '#b2182b', '#c51b7d', '#dd3497', '#1b7837', '#4daf4a',\r\n  '#006d2c', '#228b22', '#20b2aa', '#008080', '#2e8b57',\r\n  '#ff1493', '#ff69b4', '#ff4500', '#b03060', '#cd5c5c',\r\n  '#ff8c00', '#a0522d', '#9932cc', '#9400d3', '#8b008b',\r\n  '#7cfc00', '#32cd32', '#4169e1', '#0000cd', '#00008b',\r\n  '#00bfff', '#1e90ff', '#4682b4', '#5f9ea0', '#191970',\r\n  '#ff0000', '#c71585', '#dc143c', '#b22222', '#ff6347'\r\n];\r\n\r\n\r\n\r\n\r\nconst puebloMatch: (string | number)[] = [];\r\nfor (let i = 1; i <= 72; i++) {\r\n  puebloMatch.push(i, puebloColors[i % puebloColors.length]);\r\n}\r\nconst puebloExpression = ['match', ['get', 'ID_Pueblo'], ...puebloMatch, '#666666'] as any;\r\n\r\n\r\n      map.addLayer({\r\n        id: 'LocalidadesSedeINPI',\r\n        type: 'circle',\r\n        source: 'LocalidadesSedeINPI',\r\n        'source-layer': 'inpi_tile',\r\n        paint: {\r\n        'circle-radius': [\r\n        'interpolate',\r\n        ['linear'],\r\n        ['zoom'],\r\n          5, 2,\r\n          8, 3,\r\n          11, 6,\r\n          14, 10\r\n        ],\r\n          'circle-color': puebloExpression,\r\n          'circle-stroke-color': '#F2F2F2',\r\n          'circle-stroke-width': 0.2  \r\n        },\r\n        layout: { visibility: layersVisibility['LocalidadesSedeINPI'] ? 'visible' : 'none' }\r\n\r\n      });\r\n\r\n      map.on('mouseenter', 'LocalidadesSedeINPI', (e) => {\r\n        const props = e.features?.[0]?.properties;\r\n        if (!props) return;\r\n        popup.setLngLat(e.lngLat).setHTML(`\r\n          <strong>Entidad:</strong> ${props.NOM_ENT}<br/>\r\n          <strong>Municipio:</strong> ${props.NOM_MUN}<br/>\r\n          <strong>Comunidad:</strong> ${props.NOM_COM}<br/>\r\n          <strong>Pueblo:</strong> ${props.Pueblo}<br/>\r\n          <strong>Población total:</strong> ${props.POBTOT}<br/>\r\n          <strong>Pobl en hogares indígenas:</strong> ${props.PHOG_IND}<br/>\r\n          <strong>Afrodescendientes:</strong> ${props.POB_AFRO}<br/>\r\n          <strong>Tipo:</strong> ${props.TIPOLOGIAA}<br/>\r\n          <strong>Marginación:</strong> ${props.GM_2020}<br/>\r\n          <strong>Tipo asentamiento:</strong> ${props.TIPOLOGIAC}<br/>\r\n          <strong>Región:</strong> ${props.REGION}<br/>\r\n          <strong>Oficina de Representación:</strong> ${props.UA}\r\n        `).addTo(map);\r\n      });\r\n\r\n      map.on('mouseleave', 'LocalidadesSedeINPI', () => {\r\n        popup.remove();\r\n      });\r\n\r\n      map.addSource('PresidenciasMunicipales', { type: 'vector', url: 'pmtiles://data/PresidenciasMunicipales.pmtiles' });\r\n      map.addLayer({\r\n        id: 'PresidenciasMunicipales',\r\n        type: 'circle',\r\n        source: 'PresidenciasMunicipales',\r\n        'source-layer': 'PresidenciasMunicipales_tile',\r\n        paint: {\r\n          'circle-radius': 1.7,\r\n          'circle-color': '#000000',\r\n          'circle-stroke-color': '#ffffff',\r\n          'circle-stroke-width': 0.5\r\n        },\r\n        layout: { visibility: 'none' }\r\n      });\r\n\r\n      map.on('mouseenter', 'PresidenciasMunicipales', (e) => {\r\n        const props = e.features?.[0]?.properties;\r\n        if (!props) return;\r\n        popup.setLngLat(e.lngLat).setHTML(`\r\n          <strong>Entidad:</strong> ${props.entidad}<br/>\r\n          <strong>Municipio:</strong> ${props.municipio}<br/>\r\n          <strong>Dirección:</strong> ${props.direccion}\r\n        `).addTo(map);\r\n      });\r\n\r\n      map.on('mouseleave', 'PresidenciasMunicipales', () => {\r\n        popup.remove();\r\n      });     \r\n\r\nmap.addSource('PuntosWiFiCFE', {\r\n  type: 'vector',\r\n  url: 'pmtiles://data/PuntosWiFiCFE.pmtiles'\r\n});\r\n\r\nconst tecnologias = [\r\n  { id: 'PuntosWiFiCFE_4G', color: '#9f2241', filtro: '4G' },\r\n  { id: 'PuntosWiFiCFE_FIBRA', color: '#cda578', filtro: 'FIBRA O COBRE' },\r\n  { id: 'PuntosWiFiCFE_SATELITAL', color: '#235b4e', filtro: 'SATELITAL' }\r\n];\r\n\r\ntecnologias.forEach(({ id, color, filtro }) => {\r\n  map.addLayer({\r\n    id,\r\n    type: 'circle',\r\n    source: 'PuntosWiFiCFE',\r\n    'source-layer': 'PuntosWiFiCFE_tile',\r\n    filter: ['==', ['get', 'TECNOLOGIA'], filtro],\r\n    paint: {\r\n      'circle-radius': 1.5,\r\n      'circle-color': color,\r\n      'circle-stroke-color': '#ffffff',\r\n      'circle-stroke-width': 0\r\n    },\r\n    layout: { visibility: 'none' } // Por defecto oculto\r\n  });\r\n\r\n  map.on('mouseenter', id, (e) => {\r\n    const props = e.features?.[0]?.properties;\r\n    if (!props) return;\r\n    popup.setLngLat(e.lngLat).setHTML(`\r\n      <strong>Nombre:</strong> ${props['INMUEBLE NOMBRE']}<br/>\r\n      <strong>Tipo:</strong> ${props['TIPO INMUEBLE']}<br/>\r\n      <strong>AP:</strong> ${props['NOMBRE AP']}<br/>\r\n      <strong>Tecnología:</strong> ${props['TECNOLOGIA']}\r\n    `).addTo(map);\r\n  });\r\n\r\n  map.on('mouseleave', id, () => {\r\n    popup.remove();\r\n  });\r\n});\r\n      \r\n    }); \r\n    \r\n    return () => {\r\n      map.remove();\r\n      maplibregl.removeProtocol('pmtiles');\r\n    };\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    const map = mapRef.current;\r\n    if (!map) return;\r\n\r\n    Object.entries(layersVisibility).forEach(([id, visible]) => {\r\n      const vis = visible ? 'visible' : 'none';\r\n      try {\r\n        if (map.getLayer(id)) {\r\n          map.setLayoutProperty(id, 'visibility', vis);\r\n        }\r\n      } catch {}\r\n    });\r\n  }, [layersVisibility]);\r\n\r\n  useEffect(() => {\r\n  const map = mapRef.current;\r\n  if (!map) return;\r\n\r\n  const handleClick = (e: maplibregl.MapMouseEvent) => {\r\n  if (!isMeasuring) return;\r\n  if (currentPoints.length >= 2) return;\r\n  const newPoint = e.lngLat;\r\n  console.log('Nuevo punto', newPoint);\r\n\r\n  setCurrentPoints(prev => [...prev, newPoint]);\r\n};\r\n\r\n  map.on('click', handleClick);\r\n\r\n  return () => {\r\n    map.off('click', handleClick);\r\n  };\r\n}, [isMeasuring, currentPoints]);\r\n\r\nuseEffect(() => {\r\n  if (currentPoints.length === 2) {\r\n    addRouteToMap(currentPoints);\r\n    \r\n  }\r\n}, [currentPoints]);\r\n\r\n    return (\r\n    <div style={{ position: 'relative', width: '100%', height: '100vh' }}>\r\n      <div ref={containerRef} style={{ width: '100%', height: '100%' }} />\r\n      <div style={{\r\n  position: 'absolute',\r\n  top: '20px',\r\n  right: '20px',\r\n  zIndex: 1000,\r\n  display: 'flex',\r\n  flexDirection: 'column',\r\n  gap: '10px',\r\n  alignItems: 'flex-end'  \r\n}}>\r\n  <div className=\"custom-tooltip\">\r\n    <button\r\n      onClick={toggleSatellite}\r\n      style={{\r\n        padding: '8px 12px',\r\n        backgroundColor: '#fff',\r\n        border: '1px solid #ccc',\r\n        borderRadius: '4px',\r\n        cursor: 'pointer',\r\n        fontSize: '18px',\r\n        boxShadow: '0 2px 4px rgba(0,0,0,0.2)',\r\n      }}\r\n      aria-label=\"Cambiar vista del mapa\"\r\n    >\r\n      {isSatellite ? '🗺️' : '🛰️'}\r\n\r\n      \r\n    </button>\r\n    <span className=\"tooltip-text\">Cambiar a vista de satélite</span>\r\n  </div>\r\n  <div className=\"custom-tooltip\">\r\n    <button\r\n      onClick={toggleMeasurement}\r\n      style={{\r\n        padding: '8px 12px',\r\n        backgroundColor: isMeasuring ? '#e6f7ff' : '#fff',\r\n        border: '1px solid #ccc',\r\n        borderRadius: '4px',\r\n        cursor: 'pointer',\r\n        fontSize: '18px',\r\n        boxShadow: '0 2px 4px rgba(0,0,0,0.2)',\r\n      }}\r\n      aria-label=\"Medir distancia\"\r\n    >\r\n      📏 \r\n    </button>\r\n    \r\n    <span className=\"tooltip-text\">Seleccionar nodos para ruta</span>\r\n  </div>\r\n   <div className=\"custom-tooltip\">\r\n    <select\r\n  onChange={(e) => {\r\n    const value = e.target.value;\r\n    setSelectedPueblo(value === 'ALL' ? null : value);\r\n    const map = mapRef.current;\r\n    if (!map) return;\r\n\r\n    if (value === 'ALL') {\r\n      map.setFilter('LocalidadesSedeINPI', null);\r\n    } else {\r\n      map.setFilter('LocalidadesSedeINPI', ['==', ['get', 'Pueblo'], value]);\r\n    }\r\n  }}\r\n>\r\n\r\n      <option value=\"ALL\">Seleccionar Pueblo</option>\r\n      <option>Mayo</option>\r\n      <option>Afromexicano</option>\r\n      <option>Akateko</option>\r\n      <option>Amuzgo</option>\r\n      <option>Ayapaneco</option>\r\n      <option>Caxcan</option>\r\n      <option>Chatino</option>\r\n      <option>Chichimeco</option>\r\n      <option>Chinanteco</option>\r\n      <option>Chocholteco</option>\r\n      <option>Ch'ol</option>\r\n      <option>Chontal de Oaxaca</option>\r\n      <option>Chuj</option>\r\n      <option>Coca</option>\r\n      <option>Cochimí</option>\r\n      <option>Cora</option>\r\n      <option>Cucapá</option>\r\n      <option>Cuicateco</option>\r\n      <option>Guarijío</option>\r\n      <option>Huasteco</option>\r\n      <option>Ikoots (Huave)</option>\r\n      <option>Ixcateco</option>\r\n      <option>Ixil</option>\r\n      <option>Jakalteko</option>\r\n      <option>Kaqchikel</option>\r\n      <option>K'iche'</option>\r\n      <option>Kickapoo</option>\r\n      <option>Kiliwa</option>\r\n      <option>Kumiai</option>\r\n      <option>Lacandón</option>\r\n      <option>Mam</option>\r\n      <option>Matlatzinca</option>\r\n      <option>Maya</option>\r\n      <option>Mazahua</option>\r\n      <option>Mazateco</option>\r\n      <option>Me’phaa (Tlapaneco)</option>\r\n      <option>Mexikan</option>\r\n      <option>Mixe</option>\r\n      <option>Mixteco</option>\r\n      <option>N’dee</option>\r\n      <option>Nahua</option>\r\n      <option>Otomí</option>\r\n      <option>Pa Ipai/Ku'ahl</option>\r\n      <option>Pame</option>\r\n      <option>Pima</option>\r\n      <option>Pirinda</option>\r\n      <option>Pluricultural</option>\r\n      <option>Popoloca</option>\r\n      <option>Popoluca de la Sierra</option>\r\n      <option>P'urhépecha (Tarasco)</option>\r\n      <option>Q'anjob'al</option>\r\n      <option>Qato'k</option>\r\n      <option>Q'eqchi'</option>\r\n      <option>Rarámuli (Tarahumara)</option>\r\n      <option>Seri</option>\r\n      <option>Tacuate</option>\r\n      <option>Tepehua</option>\r\n      <option>Tepehuano del norte</option>\r\n      <option>Tepehuano del sur</option>\r\n      <option>Texistepequeño</option>\r\n      <option>Tlahuica</option>\r\n      <option>Tohono O’odham (Pápago)</option>\r\n      <option>Tojolabal</option>\r\n      <option>Totonaco</option>\r\n      <option>Triqui</option>\r\n      <option>Tseltal</option>\r\n      <option>Tsotsil</option>\r\n      <option>Wixárika (Huichol)</option>\r\n      <option>Yaqui</option>\r\n      <option>Yokot'an (Chontal de Tabasco)</option>\r\n      <option>Zapoteco</option>\r\n      <option>Zoque</option>\r\n    </select>\r\n    \r\n  </div>\r\n</div>\r\n\r\n      <div className=\"custom-popup-container\">\r\n        {routesData.map(route => {\r\n          if (!mapRef.current) return null;\r\nconst screenPoint = mapRef.current.project(route.endPoint);\r\n\r\n          return (\r\n            <div\r\n              key={route.id}\r\n              className=\"custom-route-popup\"\r\n              style={{\r\n                position: 'absolute',\r\n                left: `${screenPoint.x}px`,\r\n                top: `${screenPoint.y}px`,\r\n                backgroundColor: 'white',\r\n                padding: '8px',\r\n                borderRadius: '6px',\r\n                fontSize: '12px',\r\n                boxShadow: '0 2px 6px rgba(0,0,0,0.3)',\r\n                transform: 'translate(-50%, -120%)',\r\n              }}\r\n            >\r\n              <strong>Distancia:</strong> {(route.distance / 1000).toFixed(2)} km<br />\r\n              {(() => {\r\n  const totalMinutes = Math.round(route.duration / 60);\r\n  const hours = Math.floor(totalMinutes / 60);\r\n  const minutes = totalMinutes % 60;\r\n  return (\r\n    <>\r\n      <strong>Tiempo:</strong> {hours > 0 ? `${hours} h ${minutes} min` : `${minutes} min`}\r\n    </>\r\n  );\r\n})()}\r\n            </div>\r\n          );\r\n        })}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Map;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}