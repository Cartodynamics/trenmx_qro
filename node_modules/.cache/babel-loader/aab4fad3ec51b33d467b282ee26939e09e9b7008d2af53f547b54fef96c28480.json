{"ast":null,"code":"import _objectSpread from\"C:/Users/merce/interactivos2/mapa_dgccps/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useEffect,useRef,useState}from'react';import maplibregl from'maplibre-gl';import{Protocol}from'pmtiles';import'maplibre-gl/dist/maplibre-gl.css';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const baseStyle='https://api.maptiler.com/maps/01976666-b449-7252-86b5-3e7b3213a9e6/style.json?key=QAha5pFBxf4hGa8Jk5zv';const satelliteStyle='https://www.mapabase.atdt.gob.mx/style_satellite.json';const Map=_ref=>{let{layersVisibility}=_ref;const mapRef=useRef(null);const containerRef=useRef(null);const[isSatellite,setIsSatellite]=useState(false);const[isMeasuring,setIsMeasuring]=useState(false);const[currentPoints,setCurrentPoints]=useState([]);const[routesData,setRoutesData]=useState([]);const applyVisibility=()=>{const map=mapRef.current;if(!map)return;Object.entries(layersVisibility).forEach(_ref2=>{let[id,visible]=_ref2;if(map.getLayer(id)){map.setLayoutProperty(id,'visibility',visible?'visible':'none');}});};const toggleSatellite=()=>{const map=mapRef.current;if(!map)return;const newStyle=isSatellite?baseStyle:satelliteStyle;map.setStyle(newStyle,{diff:false});map.once('styledata',()=>{map.fire('load');applyVisibility();});setIsSatellite(!isSatellite);};const toggleMeasurement=()=>{const wasMeasuring=isMeasuring;setIsMeasuring(!wasMeasuring);if(wasMeasuring){const map=mapRef.current;if(!map)return;routesData.forEach(route=>{const{id}=route;if(map.getLayer(\"route-layer-\".concat(id)))map.removeLayer(\"route-layer-\".concat(id));if(map.getSource(\"route-source-\".concat(id)))map.removeSource(\"route-source-\".concat(id));if(map.getLayer(\"start-point-\".concat(id)))map.removeLayer(\"start-point-\".concat(id));if(map.getSource(\"start-point-\".concat(id)))map.removeSource(\"start-point-\".concat(id));if(map.getLayer(\"end-point-\".concat(id)))map.removeLayer(\"end-point-\".concat(id));if(map.getSource(\"end-point-\".concat(id)))map.removeSource(\"end-point-\".concat(id));});setRoutesData([]);setCurrentPoints([]);}};const addRouteToMap=async points=>{const map=mapRef.current;if(!map||points.length!==2)return;const[start,end]=points;console.log('Calculando ruta entre:',start,end);const url=\"https://router.project-osrm.org/route/v1/driving/\".concat(start.lng,\",\").concat(start.lat,\";\").concat(end.lng,\",\").concat(end.lat,\"?overview=full&geometries=geojson\");try{const response=await fetch(url);const data=await response.json();if(data.code!=='Ok'||data.routes.length===0)return;const route=data.routes[0];const routeId=Date.now();// Agregar l√≠nea de ruta\nmap.addSource(\"route-source-\".concat(routeId),{type:'geojson',data:{type:'Feature',geometry:route.geometry,properties:{}}});map.addLayer({id:\"route-layer-\".concat(routeId),type:'line',source:\"route-source-\".concat(routeId),paint:{'line-color':'#007cbf','line-width':5,'line-opacity':0.8}});// Puntos de inicio y fin\nconst pointStyle={type:'geojson',data:{type:'Point',coordinates:[start.lng,start.lat]}};map.addSource(\"start-point-\".concat(routeId),{type:'geojson',data:{type:'Feature',geometry:{type:'Point',coordinates:[start.lng,start.lat]},properties:{}}});map.addLayer({id:\"start-point-\".concat(routeId),type:'circle',source:\"start-point-\".concat(routeId),paint:{'circle-radius':6,'circle-color':'#007cbf','circle-stroke-width':2,'circle-stroke-color':'#ffffff'}});map.addSource(\"end-point-\".concat(routeId),{type:'geojson',data:{type:'Point',coordinates:[end.lng,end.lat]}});map.addLayer({id:\"end-point-\".concat(routeId),type:'circle',source:\"end-point-\".concat(routeId),paint:{'circle-radius':6,'circle-color':'#007cbf','circle-stroke-width':2,'circle-stroke-color':'#ffffff'}});setRoutesData(prev=>[...prev,_objectSpread(_objectSpread({id:routeId},route),{},{startPoint:start,endPoint:end})]);}catch(error){console.error(\"Error al calcular la ruta:\",error);}};useEffect(()=>{const protocol=new Protocol();maplibregl.addProtocol('pmtiles',protocol.tile);const map=new maplibregl.Map({container:containerRef.current,style:baseStyle,center:[-105.15135,23.55291],zoom:4.47,minZoom:4,maxZoom:18,attributionControl:false});mapRef.current=map;map.addControl(new maplibregl.AttributionControl({customAttribution:'Secretar√≠a de Gobernaci√≥n',compact:true}),'bottom-right');map.on('load',()=>{const zonas=['zona1','zona2'];const popup=new maplibregl.Popup({closeButton:false,closeOnClick:false});zonas.forEach(zona=>{map.addSource(\"mesas_cercanas_\".concat(zona),{type:'vector',url:\"pmtiles://data/mesas_cercanas_\".concat(zona,\".pmtiles\")});map.addLayer({id:\"mesas_cercanas_\".concat(zona),type:'fill',source:\"mesas_cercanas_\".concat(zona),'source-layer':\"mesas_cercanas_\".concat(zona,\"_tile\"),paint:{'fill-color':'#f8e71c','fill-opacity':0.4,'fill-outline-color':'#333333'},layout:{visibility:'none'}});map.on('mouseenter',\"mesas_cercanas_\".concat(zona),e=>{var _e$features,_e$features$;map.getCanvas().style.cursor='pointer';const props=(_e$features=e.features)===null||_e$features===void 0?void 0:(_e$features$=_e$features[0])===null||_e$features$===void 0?void 0:_e$features$.properties;if(!props)return;popup.setLngLat(e.lngLat).setHTML(\"\\n            <strong>Entidad:</strong> \".concat(props._NOM_ENT||'Sin dato',\"<br/>\\n            <strong>Regi\\xF3n:</strong> \").concat(props._REGION||'Sin dato',\"<br/>\\n            <strong>Nombre Regi\\xF3n:</strong> \").concat(props._NOM_REGION||'Sin dato',\"\\n          \")).addTo(map);});map.on('mouseleave',\"mesas_cercanas_\".concat(zona),()=>{map.getCanvas().style.cursor='';popup.remove();});map.addSource(\"regiones_\".concat(zona),{type:'vector',url:\"pmtiles://data/regiones_\".concat(zona,\".pmtiles\")});const colorSet=['#66c2a5','#fc8d62','#8da0cb','#e78ac3','#a6d854','#ffd92f','#e5c494','#b3b3b3'];const matchValues=[];for(let i=1;i<=266;i++){matchValues.push(i,colorSet[i%colorSet.length]);}const matchExpression=['match',['get','_REGION'],...matchValues,'#cccccc'];map.addLayer({id:\"regiones_\".concat(zona),type:'fill',source:\"regiones_\".concat(zona),'source-layer':\"regiones_\".concat(zona,\"_tile\"),paint:{'fill-color':matchExpression,'fill-opacity':0.5,'fill-outline-color':'#333333'},layout:{visibility:'none'}});map.on('mousemove',\"regiones_\".concat(zona),e=>{var _e$features2,_e$features2$;map.getCanvas().style.cursor='pointer';const props=(_e$features2=e.features)===null||_e$features2===void 0?void 0:(_e$features2$=_e$features2[0])===null||_e$features2$===void 0?void 0:_e$features2$.properties;if(!props)return;popup.setLngLat(e.lngLat).setHTML(\"\\n            <strong>Entidad:</strong> \".concat(props._NOM_ENT||'Sin dato',\"<br/>\\n            <strong>Municipio:</strong> \").concat(props.NOMGEO||'Sin dato',\"<br/>\\n            <strong>Regi\\xF3n:</strong> \").concat(props._REGION||'Sin dato',\"<br/>\\n            <strong>Nombre Regi\\xF3n:</strong> \").concat(props._NOM_REGION||'Sin dato',\"\\n          \")).addTo(map);});map.on('mouseleave',\"regiones_\".concat(zona),()=>{map.getCanvas().style.cursor='';popup.remove();});map.addSource(\"or_\".concat(zona),{type:'vector',url:\"pmtiles://data/or_\".concat(zona,\".pmtiles\")});map.addLayer({id:\"or_\".concat(zona),type:'circle',source:\"or_\".concat(zona),'source-layer':\"or_\".concat(zona,\"_tile\"),paint:{'circle-radius':5.5,'circle-color':'#BC955C','circle-stroke-color':'#ffffff','circle-stroke-width':1},layout:{visibility:'none'}});map.on('mouseenter',\"or_\".concat(zona),e=>{var _e$features3,_e$features3$;map.getCanvas().style.cursor='pointer';const props=(_e$features3=e.features)===null||_e$features3===void 0?void 0:(_e$features3$=_e$features3[0])===null||_e$features3$===void 0?void 0:_e$features3$.properties;if(!props)return;popup.setLngLat(e.lngLat).setHTML(\"\\n            <strong>Entidad:</strong> \".concat(props.nom_ent||'Sin dato',\"<br/>\\n            <strong>Municipio:</strong> \").concat(props.nom_mun||'Sin dato',\"<br/>\\n            <strong>Localidad:</strong> \").concat(props.nom_loc||'Sin dato',\"<br/>\\n            <strong>Oficina de Representaci\\xF3n:</strong> \").concat(props.or_ccpi||'Sin dato',\"\\n          \")).addTo(map);});map.on('mouseleave',\"or_\".concat(zona),()=>{map.getCanvas().style.cursor='';popup.remove();});});map.addSource('LocalidadesSedeINPI',{type:'vector',url:'pmtiles://data/inpi.pmtiles'});const dark2=['#1b9e77','#d95f02','#7570b3','#e7298a','#66a61e','#e6ab02','#a6761d','#666666'];const sedeMatch=[];for(let i=1;i<=70;i++){sedeMatch.push(i,dark2[i%dark2.length]);// NOTA: i como n√∫mero\n}const sedeExpression=['match',['get','ID_Sede'],...sedeMatch,'#666666'];map.addLayer({id:'LocalidadesSedeINPI',type:'circle',source:'LocalidadesSedeINPI','source-layer':'inpi_tile',paint:{'circle-radius':2.5,'circle-color':sedeExpression,'circle-stroke-color':'#ffffff','circle-stroke-width':0.3},layout:{visibility:layersVisibility['LocalidadesSedeINPI']?'visible':'none'}});map.on('mouseenter','LocalidadesSedeINPI',e=>{var _e$features4,_e$features4$;const props=(_e$features4=e.features)===null||_e$features4===void 0?void 0:(_e$features4$=_e$features4[0])===null||_e$features4$===void 0?void 0:_e$features4$.properties;if(!props)return;popup.setLngLat(e.lngLat).setHTML(\"\\n          <strong>Entidad:</strong> \".concat(props.NOM_ENT,\"<br/>\\n          <strong>Municipio:</strong> \").concat(props.NOM_MUN,\"<br/>\\n          <strong>Comunidad:</strong> \").concat(props.NOM_COM,\"<br/>\\n          <strong>Pueblo:</strong> \").concat(props.Pueblo,\"<br/>\\n          <strong>Estimaci\\xF3n de la poblaci\\xF3n:</strong> \").concat(props.PTC_1,\"<br/>\\n          <strong>N\\xFAmero de asentamientos:</strong> \").concat(props.NA_2,\"<br/>\\n          <strong>Poblaci\\xF3n en hogares ind\\xEDgenas (loc sede) :</strong> \").concat(props.PHOG_IND,\"<br/>\\n          <strong>Afrodescendientes:</strong> \").concat(props.POB_AFRO,\"<br/>\\n          <strong>Tipo:</strong> \").concat(props.TIPOLOGIAA,\"<br/>\\n          <strong>Marginaci\\xF3n:</strong> \").concat(props.GM_2020,\"<br/>\\n          <strong>Tipo asentamiento:</strong> \").concat(props.TIPOLOGIAC,\"<br/>\\n          <strong>Regi\\xF3n:</strong> \").concat(props.REGION,\"<br/>\\n          <strong>Oficina de Representaci\\xF3n:</strong> \").concat(props.UA,\"\\n        \")).addTo(map);});map.on('mouseleave','LocalidadesSedeINPI',()=>{popup.remove();});map.addSource('PresidenciasMunicipales',{type:'vector',url:'pmtiles://data/PresidenciasMunicipales.pmtiles'});map.addLayer({id:'PresidenciasMunicipales',type:'circle',source:'PresidenciasMunicipales','source-layer':'PresidenciasMunicipales_tile',paint:{'circle-radius':1.7,'circle-color':'#000000','circle-stroke-color':'#ffffff','circle-stroke-width':0.5},layout:{visibility:'none'}});map.on('mouseenter','PresidenciasMunicipales',e=>{var _e$features5,_e$features5$;const props=(_e$features5=e.features)===null||_e$features5===void 0?void 0:(_e$features5$=_e$features5[0])===null||_e$features5$===void 0?void 0:_e$features5$.properties;if(!props)return;popup.setLngLat(e.lngLat).setHTML(\"\\n          <strong>Entidad:</strong> \".concat(props.entidad,\"<br/>\\n          <strong>Municipio:</strong> \").concat(props.municipio,\"<br/>\\n          <strong>Direcci\\xF3n:</strong> \").concat(props.direccion,\"\\n        \")).addTo(map);});map.on('mouseleave','PresidenciasMunicipales',()=>{popup.remove();});map.addSource('PuntosWiFiCFE',{type:'vector',url:'pmtiles://data/PuntosWiFiCFE.pmtiles'});const tecnologias=[{id:'PuntosWiFiCFE_4G',color:'#9f2241',filtro:'4G'},{id:'PuntosWiFiCFE_FIBRA',color:'#cda578',filtro:'FIBRA O COBRE'},{id:'PuntosWiFiCFE_SATELITAL',color:'#235b4e',filtro:'SATELITAL'}];tecnologias.forEach(_ref3=>{let{id,color,filtro}=_ref3;map.addLayer({id,type:'circle',source:'PuntosWiFiCFE','source-layer':'PuntosWiFiCFE_tile',filter:['==',['get','TECNOLOGIA'],filtro],paint:{'circle-radius':1.5,'circle-color':color,'circle-stroke-color':'#ffffff','circle-stroke-width':0},layout:{visibility:'none'}// Por defecto oculto\n});map.on('mouseenter',id,e=>{var _e$features6,_e$features6$;const props=(_e$features6=e.features)===null||_e$features6===void 0?void 0:(_e$features6$=_e$features6[0])===null||_e$features6$===void 0?void 0:_e$features6$.properties;if(!props)return;popup.setLngLat(e.lngLat).setHTML(\"\\n      <strong>Nombre:</strong> \".concat(props['INMUEBLE NOMBRE'],\"<br/>\\n      <strong>Tipo:</strong> \").concat(props['TIPO INMUEBLE'],\"<br/>\\n      <strong>AP:</strong> \").concat(props['NOMBRE AP'],\"<br/>\\n      <strong>Tecnolog\\xEDa:</strong> \").concat(props['TECNOLOGIA'],\"\\n    \")).addTo(map);});map.on('mouseleave',id,()=>{popup.remove();});});});return()=>{map.remove();maplibregl.removeProtocol('pmtiles');};},[]);useEffect(()=>{const map=mapRef.current;if(!map)return;Object.entries(layersVisibility).forEach(_ref4=>{let[id,visible]=_ref4;const vis=visible?'visible':'none';try{if(map.getLayer(id)){map.setLayoutProperty(id,'visibility',vis);}}catch(_unused){}});},[layersVisibility]);useEffect(()=>{const map=mapRef.current;if(!map)return;const handleClick=e=>{if(!isMeasuring)return;if(currentPoints.length>=2)return;const newPoint=e.lngLat;console.log('Nuevo punto',newPoint);setCurrentPoints(prev=>[...prev,newPoint]);};map.on('click',handleClick);return()=>{map.off('click',handleClick);};},[isMeasuring,currentPoints]);useEffect(()=>{if(currentPoints.length===2){addRouteToMap(currentPoints);}},[currentPoints]);return/*#__PURE__*/_jsxs(\"div\",{style:{position:'relative',width:'100%',height:'100vh'},children:[/*#__PURE__*/_jsx(\"div\",{ref:containerRef,style:{width:'100%',height:'100%'}}),/*#__PURE__*/_jsxs(\"div\",{style:{position:'absolute',top:'20px',right:'20px',zIndex:1000,display:'flex',flexDirection:'column',gap:'10px'},children:[/*#__PURE__*/_jsxs(\"div\",{className:\"custom-tooltip\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:toggleSatellite,style:{padding:'8px 12px',backgroundColor:'#fff',border:'1px solid #ccc',borderRadius:'4px',cursor:'pointer',fontSize:'18px',boxShadow:'0 2px 4px rgba(0,0,0,0.2)'},\"aria-label\":\"Cambiar vista del mapa\",children:isSatellite?'üó∫Ô∏è':'üõ∞Ô∏è'}),/*#__PURE__*/_jsx(\"span\",{className:\"tooltip-text\",children:\"Cambiar a vista de sat\\xE9lite\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"custom-tooltip\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:toggleMeasurement,style:{padding:'8px 12px',backgroundColor:isMeasuring?'#e6f7ff':'#fff',border:'1px solid #ccc',borderRadius:'4px',cursor:'pointer',fontSize:'18px',boxShadow:'0 2px 4px rgba(0,0,0,0.2)'},\"aria-label\":\"Medir distancia\",children:\"\\uD83D\\uDCCF\"}),/*#__PURE__*/_jsx(\"span\",{className:\"tooltip-text\",children:\"Seleccionar nodos para ruta\"})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"custom-popup-container\",children:routesData.map(route=>{if(!mapRef.current)return null;const screenPoint=mapRef.current.project(route.endPoint);return/*#__PURE__*/_jsxs(\"div\",{className:\"custom-route-popup\",style:{position:'absolute',left:\"\".concat(screenPoint.x,\"px\"),top:\"\".concat(screenPoint.y,\"px\"),backgroundColor:'white',padding:'8px',borderRadius:'6px',fontSize:'12px',boxShadow:'0 2px 6px rgba(0,0,0,0.3)',transform:'translate(-50%, -120%)'},children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Distancia:\"}),\" \",(route.distance/1000).toFixed(2),\" km\",/*#__PURE__*/_jsx(\"br\",{}),(()=>{const totalMinutes=Math.round(route.duration/60);const hours=Math.floor(totalMinutes/60);const minutes=totalMinutes%60;return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Tiempo:\"}),\" \",hours>0?\"\".concat(hours,\" h \").concat(minutes,\" min\"):\"\".concat(minutes,\" min\")]});})()]},route.id);})})]});};export default Map;","map":{"version":3,"names":["React","useEffect","useRef","useState","maplibregl","Protocol","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","baseStyle","satelliteStyle","Map","_ref","layersVisibility","mapRef","containerRef","isSatellite","setIsSatellite","isMeasuring","setIsMeasuring","currentPoints","setCurrentPoints","routesData","setRoutesData","applyVisibility","map","current","Object","entries","forEach","_ref2","id","visible","getLayer","setLayoutProperty","toggleSatellite","newStyle","setStyle","diff","once","fire","toggleMeasurement","wasMeasuring","route","concat","removeLayer","getSource","removeSource","addRouteToMap","points","length","start","end","console","log","url","lng","lat","response","fetch","data","json","code","routes","routeId","Date","now","addSource","type","geometry","properties","addLayer","source","paint","pointStyle","coordinates","prev","_objectSpread","startPoint","endPoint","error","protocol","addProtocol","tile","container","style","center","zoom","minZoom","maxZoom","attributionControl","addControl","AttributionControl","customAttribution","compact","on","zonas","popup","Popup","closeButton","closeOnClick","zona","layout","visibility","e","_e$features","_e$features$","getCanvas","cursor","props","features","setLngLat","lngLat","setHTML","_NOM_ENT","_REGION","_NOM_REGION","addTo","remove","colorSet","matchValues","i","push","matchExpression","_e$features2","_e$features2$","NOMGEO","_e$features3","_e$features3$","nom_ent","nom_mun","nom_loc","or_ccpi","dark2","sedeMatch","sedeExpression","_e$features4","_e$features4$","NOM_ENT","NOM_MUN","NOM_COM","Pueblo","PTC_1","NA_2","PHOG_IND","POB_AFRO","TIPOLOGIAA","GM_2020","TIPOLOGIAC","REGION","UA","_e$features5","_e$features5$","entidad","municipio","direccion","tecnologias","color","filtro","_ref3","filter","_e$features6","_e$features6$","removeProtocol","_ref4","vis","_unused","handleClick","newPoint","off","position","width","height","children","ref","top","right","zIndex","display","flexDirection","gap","className","onClick","padding","backgroundColor","border","borderRadius","fontSize","boxShadow","screenPoint","project","left","x","y","transform","distance","toFixed","totalMinutes","Math","round","duration","hours","floor","minutes"],"sources":["C:/Users/merce/interactivos2/mapa_dgccps/src/components/Map/Map.tsx"],"sourcesContent":["import React, { useEffect, useRef, useState } from 'react';\nimport maplibregl, { LngLat, GeoJSONSource } from 'maplibre-gl';\nimport { Protocol } from 'pmtiles';\nimport 'maplibre-gl/dist/maplibre-gl.css';\n\ntype MapProps = {\n  layersVisibility: { [layerId: string]: boolean };\n  isocronaMin: number;\n};\n\nconst baseStyle = 'https://api.maptiler.com/maps/01976666-b449-7252-86b5-3e7b3213a9e6/style.json?key=QAha5pFBxf4hGa8Jk5zv';\nconst satelliteStyle = 'https://www.mapabase.atdt.gob.mx/style_satellite.json';\n\nconst Map: React.FC<MapProps> = ({ layersVisibility }) => {\n  const mapRef = useRef<maplibregl.Map | null>(null);\n  const containerRef = useRef<HTMLDivElement | null>(null);\n  const [isSatellite, setIsSatellite] = useState(false);\n  const [isMeasuring, setIsMeasuring] = useState(false);\n  const [currentPoints, setCurrentPoints] = useState<maplibregl.LngLat[]>([]);\n  const [routesData, setRoutesData] = useState<any[]>([]);\n\n  const applyVisibility = () => {\n    const map = mapRef.current;\n    if (!map) return;\n    Object.entries(layersVisibility).forEach(([id, visible]) => {\n      if (map.getLayer(id)) {\n        map.setLayoutProperty(id, 'visibility', visible ? 'visible' : 'none');\n      }\n    });\n  };\n\n  const toggleSatellite = () => {\n    const map = mapRef.current;\n    if (!map) return;\n    const newStyle = isSatellite ? baseStyle : satelliteStyle;\n    map.setStyle(newStyle, { diff: false });\n    map.once('styledata', () => {\n      map.fire('load');\n      applyVisibility();\n    });\n    setIsSatellite(!isSatellite);\n  };\n\nconst toggleMeasurement = () => {\n  const wasMeasuring = isMeasuring;\n  setIsMeasuring(!wasMeasuring);\n  if (wasMeasuring) {\n    const map = mapRef.current;\n    if (!map) return;\n\n    routesData.forEach((route) => {\n      const { id } = route;\n      if (map.getLayer(`route-layer-${id}`)) map.removeLayer(`route-layer-${id}`);\n      if (map.getSource(`route-source-${id}`)) map.removeSource(`route-source-${id}`);\n      if (map.getLayer(`start-point-${id}`)) map.removeLayer(`start-point-${id}`);\n      if (map.getSource(`start-point-${id}`)) map.removeSource(`start-point-${id}`);\n      if (map.getLayer(`end-point-${id}`)) map.removeLayer(`end-point-${id}`);\n      if (map.getSource(`end-point-${id}`)) map.removeSource(`end-point-${id}`);\n    });\n\n    setRoutesData([]);\n    setCurrentPoints([]);\n  }\n};\n\nconst addRouteToMap = async (points: maplibregl.LngLat[]) => {\n  const map = mapRef.current;\n  if (!map || points.length !== 2) return;\n\n  const [start, end] = points;\n  console.log('Calculando ruta entre:', start, end);\n  const url = `https://router.project-osrm.org/route/v1/driving/${start.lng},${start.lat};${end.lng},${end.lat}?overview=full&geometries=geojson`;\n\n  try {\n    const response = await fetch(url);\n    const data = await response.json();\n\n    if (data.code !== 'Ok' || data.routes.length === 0) return;\n    const route = data.routes[0];\n\n    const routeId = Date.now(); \n\n    // Agregar l√≠nea de ruta\n    map.addSource(`route-source-${routeId}`, {\n      type: 'geojson',\n      data: {\n        type: 'Feature',\n        geometry: route.geometry,\n        properties: {}\n      }\n    });\n    map.addLayer({\n      id: `route-layer-${routeId}`,\n      type: 'line',\n      source: `route-source-${routeId}`,\n      paint: {\n        'line-color': '#007cbf',\n        'line-width': 5,\n        'line-opacity': 0.8\n      }\n    });\n\n    // Puntos de inicio y fin\n    const pointStyle = {\n      type: 'geojson',\n      data: {\n        type: 'Point',\n        coordinates: [start.lng, start.lat]\n      }\n    };\n    map.addSource(`start-point-${routeId}`, {\n  type: 'geojson',\n  data: {\n    type: 'Feature',\n    geometry: {\n      type: 'Point',\n      coordinates: [start.lng, start.lat]\n    },\n    properties: {}\n  }\n});\nmap.addLayer({\n  id: `start-point-${routeId}`,\n  type: 'circle',\n  source: `start-point-${routeId}`,\n  paint: {\n    'circle-radius': 6,\n    'circle-color': '#007cbf',\n    'circle-stroke-width': 2,\n    'circle-stroke-color': '#ffffff'\n  }\n});\n\n    map.addSource(`end-point-${routeId}`, {\n      type: 'geojson',\n      data: {\n        type: 'Point',\n        coordinates: [end.lng, end.lat]\n      }\n    });\n    map.addLayer({\n      id: `end-point-${routeId}`,\n      type: 'circle',\n      source: `end-point-${routeId}`,\n      paint: {\n        'circle-radius': 6,\n        'circle-color': '#007cbf',\n        'circle-stroke-width': 2,\n        'circle-stroke-color': '#ffffff'\n      }\n    });\n\n    setRoutesData(prev => [...prev, {\n  id: routeId,\n  ...route,\n  startPoint: start,\n  endPoint: end\n}]);\n\n  } catch (error) {\n    console.error(\"Error al calcular la ruta:\", error);\n  }\n};\n\n  useEffect(() => {\n    const protocol = new Protocol();\n    maplibregl.addProtocol('pmtiles', protocol.tile);\n\n    const map = new maplibregl.Map({\n      container: containerRef.current!,\n      style: baseStyle,\n      center: [-105.15135, 23.55291],\n      zoom: 4.47,\n      minZoom: 4,\n      maxZoom: 18,\n      attributionControl: false\n    }); \n\n    mapRef.current = map;\n\n    map.addControl(new maplibregl.AttributionControl({\n      customAttribution: 'Secretar√≠a de Gobernaci√≥n',\n      compact: true\n    }), 'bottom-right');\n\n    map.on('load', () => {\n      const zonas = ['zona1', 'zona2'];\n      const popup = new maplibregl.Popup({ closeButton: false, closeOnClick: false });\n      zonas.forEach(zona => {\n        map.addSource(`mesas_cercanas_${zona}`, {\n          type: 'vector',\n          url: `pmtiles://data/mesas_cercanas_${zona}.pmtiles`\n        });\n        \n        map.addLayer({\n          id: `mesas_cercanas_${zona}`,\n          type: 'fill',\n          source: `mesas_cercanas_${zona}`,\n          'source-layer': `mesas_cercanas_${zona}_tile`,\n          paint: {\n            'fill-color': '#f8e71c',\n            'fill-opacity': 0.4,\n            'fill-outline-color': '#333333'\n          },\n          layout: { visibility: 'none' }\n        });\n\n        map.on('mouseenter', `mesas_cercanas_${zona}`, (e) => {\n          map.getCanvas().style.cursor = 'pointer';\n          const props = e.features?.[0]?.properties;\n          if (!props) return;\n          popup.setLngLat(e.lngLat).setHTML(`\n            <strong>Entidad:</strong> ${props._NOM_ENT || 'Sin dato'}<br/>\n            <strong>Regi√≥n:</strong> ${props._REGION || 'Sin dato'}<br/>\n            <strong>Nombre Regi√≥n:</strong> ${props._NOM_REGION || 'Sin dato'}\n          `).addTo(map);\n        });\n\n        map.on('mouseleave', `mesas_cercanas_${zona}`, () => {\n          map.getCanvas().style.cursor = '';\n          popup.remove();\n        });\n\n        map.addSource(`regiones_${zona}`, {\n          type: 'vector',\n          url: `pmtiles://data/regiones_${zona}.pmtiles`\n        });\n\n        const colorSet = ['#66c2a5', '#fc8d62', '#8da0cb', '#e78ac3', '#a6d854', '#ffd92f', '#e5c494', '#b3b3b3'];\n        const matchValues: (string | number)[] = [];\n        for (let i = 1; i <= 266; i++) {\n          matchValues.push(i, colorSet[i % colorSet.length]);\n        }\n        const matchExpression = ['match', ['get', '_REGION'], ...matchValues, '#cccccc'] as any;\n\n        map.addLayer({\n          id: `regiones_${zona}`,\n          type: 'fill',\n          source: `regiones_${zona}`,\n          'source-layer': `regiones_${zona}_tile`,\n          paint: {\n            'fill-color': matchExpression,\n            'fill-opacity': 0.5,\n            'fill-outline-color': '#333333'\n          },\n          layout: { visibility: 'none' }\n        });\n\n        map.on('mousemove', `regiones_${zona}`, (e) => {\n          map.getCanvas().style.cursor = 'pointer';\n          const props = e.features?.[0]?.properties;\n          if (!props) return;\n          popup.setLngLat(e.lngLat).setHTML(`\n            <strong>Entidad:</strong> ${props._NOM_ENT || 'Sin dato'}<br/>\n            <strong>Municipio:</strong> ${props.NOMGEO || 'Sin dato'}<br/>\n            <strong>Regi√≥n:</strong> ${props._REGION || 'Sin dato'}<br/>\n            <strong>Nombre Regi√≥n:</strong> ${props._NOM_REGION || 'Sin dato'}\n          `).addTo(map);\n        });\n\n        map.on('mouseleave', `regiones_${zona}`, () => {\n          map.getCanvas().style.cursor = '';\n          popup.remove();\n        });\n\n        map.addSource(`or_${zona}`, {\n          type: 'vector',\n          url: `pmtiles://data/or_${zona}.pmtiles`\n        });\n\n        map.addLayer({\n          id: `or_${zona}`,\n          type: 'circle',\n          source: `or_${zona}`,\n          'source-layer': `or_${zona}_tile`,\n          paint: {\n            'circle-radius': 5.5,\n            'circle-color': '#BC955C',\n            'circle-stroke-color': '#ffffff',\n            'circle-stroke-width': 1\n          },\n          layout: { visibility: 'none' }\n        });\n\n        map.on('mouseenter', `or_${zona}`, (e) => {\n          map.getCanvas().style.cursor = 'pointer';\n          const props = e.features?.[0]?.properties;\n          if (!props) return;\n          popup.setLngLat(e.lngLat).setHTML(`\n            <strong>Entidad:</strong> ${props.nom_ent || 'Sin dato'}<br/>\n            <strong>Municipio:</strong> ${props.nom_mun || 'Sin dato'}<br/>\n            <strong>Localidad:</strong> ${props.nom_loc || 'Sin dato'}<br/>\n            <strong>Oficina de Representaci√≥n:</strong> ${props.or_ccpi || 'Sin dato'}\n          `).addTo(map);\n        });\n\n        map.on('mouseleave', `or_${zona}`, () => {\n          map.getCanvas().style.cursor = '';\n          popup.remove();\n        });\n      });\n\n      map.addSource('LocalidadesSedeINPI', { type: 'vector', url: 'pmtiles://data/inpi.pmtiles' });\n      const dark2 = ['#1b9e77', '#d95f02', '#7570b3', '#e7298a', '#66a61e', '#e6ab02', '#a6761d', '#666666'];\nconst sedeMatch: (string | number)[] = [];\nfor (let i = 1; i <= 70; i++) {\n  sedeMatch.push(i, dark2[i % dark2.length]);  // NOTA: i como n√∫mero\n}\nconst sedeExpression = ['match', ['get', 'ID_Sede'], ...sedeMatch, '#666666'] as any;\n\n      map.addLayer({\n        id: 'LocalidadesSedeINPI',\n        type: 'circle',\n        source: 'LocalidadesSedeINPI',\n        'source-layer': 'inpi_tile',\n        paint: {\n          'circle-radius': 2.5,\n          'circle-color': sedeExpression,\n          'circle-stroke-color': '#ffffff',\n          'circle-stroke-width': 0.3  \n        },\n        layout: { visibility: layersVisibility['LocalidadesSedeINPI'] ? 'visible' : 'none' }\n\n      });\n\n      map.on('mouseenter', 'LocalidadesSedeINPI', (e) => {\n        const props = e.features?.[0]?.properties;\n        if (!props) return;\n        popup.setLngLat(e.lngLat).setHTML(`\n          <strong>Entidad:</strong> ${props.NOM_ENT}<br/>\n          <strong>Municipio:</strong> ${props.NOM_MUN}<br/>\n          <strong>Comunidad:</strong> ${props.NOM_COM}<br/>\n          <strong>Pueblo:</strong> ${props.Pueblo}<br/>\n          <strong>Estimaci√≥n de la poblaci√≥n:</strong> ${props.PTC_1}<br/>\n          <strong>N√∫mero de asentamientos:</strong> ${props.NA_2}<br/>\n          <strong>Poblaci√≥n en hogares ind√≠genas (loc sede) :</strong> ${props.PHOG_IND}<br/>\n          <strong>Afrodescendientes:</strong> ${props.POB_AFRO}<br/>\n          <strong>Tipo:</strong> ${props.TIPOLOGIAA}<br/>\n          <strong>Marginaci√≥n:</strong> ${props.GM_2020}<br/>\n          <strong>Tipo asentamiento:</strong> ${props.TIPOLOGIAC}<br/>\n          <strong>Regi√≥n:</strong> ${props.REGION}<br/>\n          <strong>Oficina de Representaci√≥n:</strong> ${props.UA}\n        `).addTo(map);\n      });\n\n      map.on('mouseleave', 'LocalidadesSedeINPI', () => {\n        popup.remove();\n      });\n\n      map.addSource('PresidenciasMunicipales', { type: 'vector', url: 'pmtiles://data/PresidenciasMunicipales.pmtiles' });\n      map.addLayer({\n        id: 'PresidenciasMunicipales',\n        type: 'circle',\n        source: 'PresidenciasMunicipales',\n        'source-layer': 'PresidenciasMunicipales_tile',\n        paint: {\n          'circle-radius': 1.7,\n          'circle-color': '#000000',\n          'circle-stroke-color': '#ffffff',\n          'circle-stroke-width': 0.5\n        },\n        layout: { visibility: 'none' }\n      });\n\n      map.on('mouseenter', 'PresidenciasMunicipales', (e) => {\n        const props = e.features?.[0]?.properties;\n        if (!props) return;\n        popup.setLngLat(e.lngLat).setHTML(`\n          <strong>Entidad:</strong> ${props.entidad}<br/>\n          <strong>Municipio:</strong> ${props.municipio}<br/>\n          <strong>Direcci√≥n:</strong> ${props.direccion}\n        `).addTo(map);\n      });\n\n      map.on('mouseleave', 'PresidenciasMunicipales', () => {\n        popup.remove();\n      });     \nmap.addSource('PuntosWiFiCFE', {\n  type: 'vector',\n  url: 'pmtiles://data/PuntosWiFiCFE.pmtiles'\n});\n\nconst tecnologias = [\n  { id: 'PuntosWiFiCFE_4G', color: '#9f2241', filtro: '4G' },\n  { id: 'PuntosWiFiCFE_FIBRA', color: '#cda578', filtro: 'FIBRA O COBRE' },\n  { id: 'PuntosWiFiCFE_SATELITAL', color: '#235b4e', filtro: 'SATELITAL' }\n];\n\ntecnologias.forEach(({ id, color, filtro }) => {\n  map.addLayer({\n    id,\n    type: 'circle',\n    source: 'PuntosWiFiCFE',\n    'source-layer': 'PuntosWiFiCFE_tile',\n    filter: ['==', ['get', 'TECNOLOGIA'], filtro],\n    paint: {\n      'circle-radius': 1.5,\n      'circle-color': color,\n      'circle-stroke-color': '#ffffff',\n      'circle-stroke-width': 0\n    },\n    layout: { visibility: 'none' } // Por defecto oculto\n  });\n\n  map.on('mouseenter', id, (e) => {\n    const props = e.features?.[0]?.properties;\n    if (!props) return;\n    popup.setLngLat(e.lngLat).setHTML(`\n      <strong>Nombre:</strong> ${props['INMUEBLE NOMBRE']}<br/>\n      <strong>Tipo:</strong> ${props['TIPO INMUEBLE']}<br/>\n      <strong>AP:</strong> ${props['NOMBRE AP']}<br/>\n      <strong>Tecnolog√≠a:</strong> ${props['TECNOLOGIA']}\n    `).addTo(map);\n  });\n\n  map.on('mouseleave', id, () => {\n    popup.remove();\n  });\n});\n      \n    }); \n    \n    return () => {\n      map.remove();\n      maplibregl.removeProtocol('pmtiles');\n    };\n  }, []);\n\n  useEffect(() => {\n    const map = mapRef.current;\n    if (!map) return;\n\n    Object.entries(layersVisibility).forEach(([id, visible]) => {\n      const vis = visible ? 'visible' : 'none';\n      try {\n        if (map.getLayer(id)) {\n          map.setLayoutProperty(id, 'visibility', vis);\n        }\n      } catch {}\n    });\n  }, [layersVisibility]);\n\n  useEffect(() => {\n  const map = mapRef.current;\n  if (!map) return;\n\n  const handleClick = (e: maplibregl.MapMouseEvent) => {\n  if (!isMeasuring) return;\n  if (currentPoints.length >= 2) return;\n  const newPoint = e.lngLat;\n  console.log('Nuevo punto', newPoint);\n\n  setCurrentPoints(prev => [...prev, newPoint]);\n};\n\n  map.on('click', handleClick);\n\n  return () => {\n    map.off('click', handleClick);\n  };\n}, [isMeasuring, currentPoints]);\n\nuseEffect(() => {\n  if (currentPoints.length === 2) {\n    addRouteToMap(currentPoints);\n    \n  }\n}, [currentPoints]);\n\n    return (\n    <div style={{ position: 'relative', width: '100%', height: '100vh' }}>\n      <div ref={containerRef} style={{ width: '100%', height: '100%' }} />\n      <div style={{ position: 'absolute', top: '20px', right: '20px', zIndex: 1000, display: 'flex', flexDirection: 'column', gap: '10px' }}>\n  <div className=\"custom-tooltip\">\n    <button\n      onClick={toggleSatellite}\n      style={{\n        padding: '8px 12px',\n        backgroundColor: '#fff',\n        border: '1px solid #ccc',\n        borderRadius: '4px',\n        cursor: 'pointer',\n        fontSize: '18px',\n        boxShadow: '0 2px 4px rgba(0,0,0,0.2)',\n      }}\n      aria-label=\"Cambiar vista del mapa\"\n    >\n      {isSatellite ? 'üó∫Ô∏è' : 'üõ∞Ô∏è'}\n    </button>\n    <span className=\"tooltip-text\">Cambiar a vista de sat√©lite</span>\n  </div>\n  <div className=\"custom-tooltip\">\n    <button\n      onClick={toggleMeasurement}\n      style={{\n        padding: '8px 12px',\n        backgroundColor: isMeasuring ? '#e6f7ff' : '#fff',\n        border: '1px solid #ccc',\n        borderRadius: '4px',\n        cursor: 'pointer',\n        fontSize: '18px',\n        boxShadow: '0 2px 4px rgba(0,0,0,0.2)',\n      }}\n      aria-label=\"Medir distancia\"\n    >\n      üìè\n    </button>\n    <span className=\"tooltip-text\">Seleccionar nodos para ruta</span>\n  </div>\n</div>\n\n      <div className=\"custom-popup-container\">\n        {routesData.map(route => {\n          if (!mapRef.current) return null;\nconst screenPoint = mapRef.current.project(route.endPoint);\n\n          return (\n            <div\n              key={route.id}\n              className=\"custom-route-popup\"\n              style={{\n                position: 'absolute',\n                left: `${screenPoint.x}px`,\n                top: `${screenPoint.y}px`,\n                backgroundColor: 'white',\n                padding: '8px',\n                borderRadius: '6px',\n                fontSize: '12px',\n                boxShadow: '0 2px 6px rgba(0,0,0,0.3)',\n                transform: 'translate(-50%, -120%)',\n              }}\n            >\n              <strong>Distancia:</strong> {(route.distance / 1000).toFixed(2)} km<br />\n              {(() => {\n  const totalMinutes = Math.round(route.duration / 60);\n  const hours = Math.floor(totalMinutes / 60);\n  const minutes = totalMinutes % 60;\n  return (\n    <>\n      <strong>Tiempo:</strong> {hours > 0 ? `${hours} h ${minutes} min` : `${minutes} min`}\n    </>\n  );\n})()}\n            </div>\n          );\n        })}\n      </div>\n    </div>\n  );\n};\n\nexport default Map;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}